{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/steaman-backend/src/lib/ReactWillPaginateTable/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Col, Input, Row, Button, Container } from \"reactstrap\";\nimport \"./index.scss\";\nimport _ from \"lodash\";\nimport qs from \"query-string\";\nimport NumberField from \"../../components/Controls/NumberField\";\nimport { formatDate } from \"../../components/misc/functions\";\nimport InputGroup from \"reactstrap/lib/InputGroup\";\nimport Pagination from \"react-js-pagination\";\nimport ExcelExport from \"./ExcelExport\";\nexport default class ReactWillPaginateTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      downloadData: [],\n      endpoint: this.props.endpoint,\n      per_page: this.props.per_page || 20,\n      page: this.props.page || 1,\n      search_string: \"\",\n      new_params: \"\"\n    };\n\n    this.componentDidMount = () => {\n      console.log(\"THIS IS STATUS OF LINK\", this.props.disable_link); // this.populateDownloadData();\n\n      this.populate();\n    };\n\n    this.populate = () => {\n      var params = qs.parse(this.props.location.search || {});\n      console.log(\"THESE ARE PARAMS\");\n      var new_params = this.props.location.search.replace(\"?\", \"\");\n      var search_string = params.search_string != \"undefined\" && params.search_string != undefined ? params.search_string : \"\";\n      this.setState({ ...this.state,\n        new_params: { ...new_params\n        },\n        search_string: search_string\n      });\n      console.log(\"THIS IS SEARCH STRING\", search_string);\n      this.setState({ ...this.state,\n        loading: true\n      }); // this.props.axiosInstance.get(this.props.endpoint+ `?per_page=${qs.per_page || this.state.per_page}&page=${params.page || this.state.page ||  1}&search_string=${search_string || this.state.search_string!= \"undefined\" || this.state.search_string!= undefined ? this.state.search_string : \"\"}&${this.props.additional_params}&${new_params}`)\n\n      this.props.axiosInstance.get(this.props.endpoint + `?per_page=${qs.per_page || this.state.per_page}&page=${params.page || this.state.page || 1}&search_string=${search_string}&${this.props.additional_params}&${new_params}`).then(result => {\n        console.log(\"RESULT IS \", result);\n        console.log(\"Populating Search string with\", params.search_string);\n        this.setState({\n          data: result.data.data,\n          size: result.data.size,\n          page: parseInt(result.data.page),\n          per_page: parseInt(result.data.per_page),\n          search_string: params.search_string != \"undefined\" || params.search_string != undefined ? params.search_string : \"\" || \"\",\n          loading: false\n        });\n\n        if (this.props.callback) {\n          this.props.callback(result.data.data);\n        }\n      }, error => {\n        console.log(error);\n        this.setState({ ...this.state,\n          loading: false\n        });\n      });\n    };\n\n    this.sendAction = (e, action, obj) => {\n      e.preventDefault();\n      e.stopPropagation(); // alert(`Visting ${action.url}`);\n\n      var new_action = action.url.replace(\":uuid\", obj.uuid);\n      this.props.axiosInstance.post(new_action).then(response => {\n        if (response.status == 202) {\n          var state_data = [...this.state.data];\n\n          var current_data_index = _.findIndex(state_data, cur_obj => {\n            return cur_obj.uuid == obj.uuid;\n          });\n\n          state_data[current_data_index] = response.data.data;\n          console.log(\"THIS IS THE CURRENT DATA\", current_data_index);\n          this.setState({ ...this.state,\n            data: [...state_data]\n          });\n        }\n      });\n    };\n\n    this.search = e => {\n      this.setState({ ...this.state,\n        page: 1,\n        loading: true\n      });\n      this.props.history.push(`${this.props.link_endpoint || this.props.endpoint}?page=1&per_page=${this.state.per_page}&search_string=${this.state.search_string}`);\n    };\n\n    this.inputChanged = e => {\n      console.log(e.target.name);\n      this.setState({ ...this.state,\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.navigateTo = page => {\n      var params = qs.parse(this.props.location ? this.props.location.search : \" \");\n      console.log(\"THESE ARE QUERY\", params);\n      console.log(\"NAVIGATING>>>\");\n\n      if (this.props.disable_link == true) {\n        return true;\n      } else {\n        console.log(page);\n        this.setState({ ...this.state,\n          loading: true\n        });\n        var search_string = \"\";\n\n        if (this.state.search_string == \"undefined\" || this.state.search_string == null) {\n          search_string = \"\";\n        } else {\n          search_string = this.state.search_string;\n        }\n\n        var link = `${this.props.link_endpoint || this.props.endpoint}?page=${page}&per_page=${this.state.per_page}&search_string=${search_string}${this.props.options ? this.props.options : \"\"}`;\n\n        if (params) {\n          Object.keys(params).forEach(key => {\n            if (key == \"type\") {\n              link += `&${key}=${params[key]}`;\n            }\n          });\n        }\n\n        this.props.history.push(link);\n      }\n    };\n\n    this.redirectToPage = (e, row) => {\n      var _this$props$link_endp;\n\n      e.preventDefault();\n      console.log(\"calling redirect function\");\n      this.props.history.push(`${(_this$props$link_endp = this.props.link_endpoint) !== null && _this$props$link_endp !== void 0 ? _this$props$link_endp : this.props.endpoint}/${row.uuid}`);\n    };\n\n    this.editRow = (e, row) => {\n      e.preventDefault();\n      console.log(row);\n    };\n\n    this.state = {\n      editing: false\n    };\n  }\n\n  capitalizeFirstLetter(string) {\n    // return string\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control searchTextBox\",\n      name: \"search_string\",\n      value: this.state.search_string,\n      placeholder: \"Search for...\",\n      \"aria-label\": \"Search Terms\",\n      \"aria-describedby\": \"searchButton\",\n      onChange: this.inputChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"  full-width\",\n      color: \"primary\",\n      type: \"button\",\n      id: \"searchButton\",\n      onClick: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }\n    }, \"Search\"))))), /*#__PURE__*/React.createElement(Col, {\n      md: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered table-striped table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, \"#\"), this.props.columns.map(d => {\n      var name = d.name.replace(/_/g, \" \");\n      name = this.capitalizeFirstLetter(name);\n      return /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 26\n        }\n      }, name);\n    }), this.props.actions && this.props.actions.length > 0 ? /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }, \"Actions\") : \"\", this.props.show_edit_actions ? /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 19\n      }\n    }, \"Actions\") : \"\")), this.state.loading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"loadingTD\",\n      colSpan: this.props.columns.length + 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, \"Loading\")) : this.state.data.length > 0 ? /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }, this.state.data.map((row, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        onClick: e => {\n          if (!this.props.disable_link || !this.props.show_edit_actions) {\n            this.redirectToPage(e, row);\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 23\n        }\n      }, (this.state.page - 1) * this.state.per_page + index + 1), this.props.columns.map(col => {\n        var data;\n\n        if (col.number == true) {\n          data = data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"right\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(NumberField, {\n            value: row[col.name],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 31\n            }\n          }));\n        } else if (col.boolean == true) {\n          data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }\n          }, row[col.field || col.name] ? col.options[0] : col.options[1]);\n        } else if (col.date == true) {\n          data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }\n          }, formatDate(row[col.field || col.name]));\n        } else {\n          data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }\n          }, row[col.field || col.name]);\n        }\n\n        return data;\n      }), this.props.actions && this.props.actions.length > 0 ? /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 25\n        }\n      }, \" \", this.props.actions.map(action => {\n        console.log(\"THIS IS ACTIVE\", row);\n        console.log(\"THIS IS ACTIVE PARAMS\", action.active_param);\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          className: `btn btn-${action.color || \"primary\"} btn-sm`,\n          disabled: row[action.active_param],\n          onClick: e => {\n            this.sendAction(e, action, row);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 33\n          }\n        }, action.name, \" \"), \" \", \"\\xA0\", \" \");\n      })) : \"\", this.props.show_edit_actions ? /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 55\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: \"editRow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 59\n        }\n      }, \"Edit\"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n        onClick: e => {\n          this.redirectToPage(e, row);\n          console.log(\"clicking view button \");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 100\n        }\n      }, \"view\")) : \" \");\n    })) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: this.props.columns.length + 2,\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 19\n      }\n    }, \"No Data to Display\"))))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      activePage: this.state.page || 1,\n      itemsCountPerPage: this.state.per_page || 20,\n      totalItemsCount: this.state.size,\n      pageRangeDisplayed: 6,\n      itemClass: \"btn btn-success\",\n      innerClass: \"btn-group btn-group-toggle special pagination\",\n      onChange: this.navigateTo.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ExcelExport, Object.assign({}, this.props, {\n      additional_params: this.props.additional_params,\n      columns: this.props.columns,\n      axiosInstance: this.props.axiosInstance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/Desktop/steaman-backend/src/lib/ReactWillPaginateTable/index.jsx"],"names":["React","Component","Col","Input","Row","Button","Container","_","qs","NumberField","formatDate","InputGroup","Pagination","ExcelExport","ReactWillPaginateTable","constructor","props","state","data","downloadData","endpoint","per_page","page","search_string","new_params","componentDidMount","console","log","disable_link","populate","params","parse","location","search","replace","undefined","setState","loading","axiosInstance","get","additional_params","then","result","size","parseInt","callback","error","sendAction","e","action","obj","preventDefault","stopPropagation","new_action","url","uuid","post","response","status","state_data","current_data_index","findIndex","cur_obj","history","push","link_endpoint","inputChanged","target","name","value","navigateTo","link","options","Object","keys","forEach","key","redirectToPage","row","editRow","editing","capitalizeFirstLetter","string","charAt","toUpperCase","slice","render","columns","map","d","actions","length","show_edit_actions","index","col","number","boolean","field","date","active_param","color","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Input, Row, Button, Container } from \"reactstrap\";\nimport \"./index.scss\";\nimport _ from \"lodash\";\nimport qs from \"query-string\";\nimport NumberField from \"../../components/Controls/NumberField\";\nimport { formatDate } from \"../../components/misc/functions\";\nimport InputGroup from \"reactstrap/lib/InputGroup\";\nimport Pagination from \"react-js-pagination\";\n\nimport ExcelExport from \"./ExcelExport\";\n\nexport default class ReactWillPaginateTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editing:false\n    }\n  }\n  state = {\n    data: [],\n    downloadData: [],\n    endpoint: this.props.endpoint,\n    per_page: this.props.per_page || 20,\n    page: this.props.page || 1,\n    search_string: \"\",\n    new_params: \"\",\n  };\n  // populateDownloadData = () => {\n  //   var params = qs.parse(this.props.location.search || {});\n  //   console.log(\"Populating download data\");\n  //   var new_params = this.props.location.search.replace(\"?\", \"\");\n  //   var search_string =\n  //     params.search_string != \"undefined\" && params.search_string != undefined\n  //       ? params.search_string\n  //       : \"\";\n  //   this.props.axiosInstance\n  //     .get(\n  //       this.props.endpoint +\n  //         `?search_string=${search_string}&all=true&${this.props.additional_params}&${new_params}`\n  //     )\n  //     .then((response) => {\n  //       console.log(\"THIS IS RESPONSE FON SERVER\", response);\n\n  //       if (response.status == 200) {\n  //         console.log(\"Populating and setting state download data\");\n  //         this.setState({\n  //           ...this.state,\n  //           downloadData: response.data.data,\n  //         });\n  //       }\n  //     });\n  // };\n  componentDidMount = () => {\n    console.log(\"THIS IS STATUS OF LINK\", this.props.disable_link);\n    // this.populateDownloadData();\n    this.populate();\n  };\n\n  populate = () => {\n    var params = qs.parse(this.props.location.search || {});\n    console.log(\"THESE ARE PARAMS\");\n    var new_params = this.props.location.search.replace(\"?\", \"\");\n    var search_string =\n      params.search_string != \"undefined\" && params.search_string != undefined\n        ? params.search_string\n        : \"\";\n    this.setState({\n      ...this.state,\n      new_params: { ...new_params },\n      search_string: search_string,\n    });\n\n    console.log(\"THIS IS SEARCH STRING\", search_string);\n\n    this.setState({\n      ...this.state,\n      loading: true,\n    });\n    // this.props.axiosInstance.get(this.props.endpoint+ `?per_page=${qs.per_page || this.state.per_page}&page=${params.page || this.state.page ||  1}&search_string=${search_string || this.state.search_string!= \"undefined\" || this.state.search_string!= undefined ? this.state.search_string : \"\"}&${this.props.additional_params}&${new_params}`)\n    this.props.axiosInstance\n      .get(\n        this.props.endpoint +\n          `?per_page=${qs.per_page || this.state.per_page}&page=${\n            params.page || this.state.page || 1\n          }&search_string=${search_string}&${\n            this.props.additional_params\n          }&${new_params}`\n      )\n      .then(\n        (result) => {\n          console.log(\"RESULT IS \", result);\n          console.log(\"Populating Search string with\", params.search_string);\n          this.setState({\n            data: result.data.data,\n            size: result.data.size,\n            page: parseInt(result.data.page),\n            per_page: parseInt(result.data.per_page),\n            search_string:\n              params.search_string != \"undefined\" ||\n              params.search_string != undefined\n                ? params.search_string\n                : \"\" || \"\",\n            loading: false,\n          });\n          if (this.props.callback) {\n            this.props.callback(result.data.data);\n          }\n        },\n        (error) => {\n          console.log(error);\n          this.setState({\n            ...this.state,\n            loading: false,\n          });\n        }\n      );\n  };\n\n  sendAction = (e, action, obj) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // alert(`Visting ${action.url}`);\n    var new_action = action.url.replace(\":uuid\", obj.uuid);\n\n    this.props.axiosInstance.post(new_action).then((response) => {\n      if (response.status == 202) {\n        var state_data = [...this.state.data];\n\n        var current_data_index = _.findIndex(state_data, (cur_obj) => {\n          return cur_obj.uuid == obj.uuid;\n        });\n        state_data[current_data_index] = response.data.data;\n        console.log(\"THIS IS THE CURRENT DATA\", current_data_index);\n        this.setState({\n          ...this.state,\n          data: [...state_data],\n        });\n      }\n    });\n  };\n\n  capitalizeFirstLetter(string) {\n    // return string\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  search = (e) => {\n    this.setState({\n      ...this.state,\n      page: 1,\n      loading: true,\n    });\n    this.props.history.push(\n      `${this.props.link_endpoint || this.props.endpoint}?page=1&per_page=${\n        this.state.per_page\n      }&search_string=${this.state.search_string}`\n    );\n  };\n  inputChanged = (e) => {\n    console.log(e.target.name);\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.value,\n    });\n  };\n  navigateTo = (page) => {\n    var params = qs.parse(\n      this.props.location ? this.props.location.search : \" \"\n    );\n    console.log(\"THESE ARE QUERY\", params);\n    console.log(\"NAVIGATING>>>\");\n    if (this.props.disable_link == true) {\n      return true;\n    } else {\n      console.log(page);\n      this.setState({\n        ...this.state,\n        loading: true,\n      });\n      var search_string = \"\";\n      if (\n        this.state.search_string == \"undefined\" ||\n        this.state.search_string == null\n      ) {\n        search_string = \"\";\n      } else {\n        search_string = this.state.search_string;\n      }\n      var link = `${\n        this.props.link_endpoint || this.props.endpoint\n      }?page=${page}&per_page=${\n        this.state.per_page\n      }&search_string=${search_string}${\n        this.props.options ? this.props.options : \"\"\n      }`;\n      if (params) {\n        Object.keys(params).forEach((key) => {\n          if (key == \"type\") {\n            link += `&${key}=${params[key]}`;\n          }\n        });\n      }\n      this.props.history.push(link);\n    }\n  };\n  redirectToPage =(e,row) =>{\n    e.preventDefault();\n      \n        console.log(\"calling redirect function\")\n        this.props.history.push(\n          `${\n            this.props.link_endpoint ?? this.props.endpoint\n          }/${row.uuid}`\n        );\n      \n    \n    }\n    editRow =(e,row)=>{\n      e.preventDefault()\n      console.log(row)\n\n    }\n  \n  render() {\n    return (\n      <React.Fragment>\n        <Col>\n          <Row>\n            <Col md={12}>\n              <form onSubmit={this.search}>\n                <InputGroup>\n                  <Input\n                    type=\"text\"\n                    className=\"form-control searchTextBox\"\n                    name=\"search_string\"\n                    value={this.state.search_string}\n                    placeholder=\"Search for...\"\n                    aria-label=\"Search Terms\"\n                    aria-describedby=\"searchButton\"\n                    onChange={this.inputChanged}\n                  />\n                  <div class=\"input-group-append\">\n                    <Button\n                      className=\"  full-width\"\n                      color=\"primary\"\n                      type=\"button\"\n                      id=\"searchButton\"\n                      onClick={this.search}\n                    >\n                      Search\n                    </Button>\n                  </div>\n                </InputGroup>\n              </form>\n            </Col>\n            <Col md={1}></Col>\n          </Row>\n        </Col>\n        <Col md={12}>\n          <table className=\"table table-bordered table-striped table-hover\">\n            <thead className=\"thead-light\">\n              <tr>\n                <th>#</th>\n                {this.props.columns.map((d) => {\n                  var name = d.name.replace(/_/g, \" \");\n                  name = this.capitalizeFirstLetter(name);\n                  return <th>{name}</th>;\n                })}\n                {this.props.actions && this.props.actions.length > 0 ? (\n                  <th>Actions</th>\n                ) : (\n                  \"\"\n                )}\n                {this.props.show_edit_actions ? (\n                  <th>Actions</th>\n                ) : (\n                  \"\"\n                )}\n              </tr>\n             \n            </thead>\n            {this.state.loading ? (\n              <tr>\n                <td\n                  className=\"loadingTD\"\n                  colSpan={this.props.columns.length + 2}\n                >\n                  Loading\n                </td>\n              </tr>\n            ) : this.state.data.length > 0 ? (\n              <tbody>\n                {this.state.data.map((row, index) => {\n                  return (\n                    <tr\n                      onClick={(e) => {\n                        if (!this.props.disable_link || !this.props.show_edit_actions) {\n                        this.redirectToPage(e,row)\n                      }}\n                    }\n                    >\n                      <td>\n                        {(this.state.page - 1) * this.state.per_page +\n                          index +\n                          1}\n                      </td>\n                      {this.props.columns.map((col) => {\n                        var data;\n                        if (col.number == true) {\n                          data = data = (\n                            <td className={\"right\"}>\n                              <NumberField value={row[col.name]} />\n                            </td>\n                          );\n                        } else if (col.boolean == true) {\n                          data = (\n                            <td className={\"\"}>\n                              {row[col.field || col.name]\n                                ? col.options[0]\n                                : col.options[1]}\n                            </td>\n                          );\n                        } else if (col.date == true) {\n                          data = (\n                            <td className={\"\"}>\n                              {formatDate(row[col.field || col.name])}\n                            </td>\n                          );\n                        } else {\n                          data = (\n                            <td className={\"\"}>{row[col.field || col.name]}</td>\n                          );\n                        }\n\n                        return data;\n                      })}\n                      {this.props.actions && this.props.actions.length > 0 ? (\n                        <td>\n                          {\" \"}\n                          {this.props.actions.map((action) => {\n                            console.log(\"THIS IS ACTIVE\", row);\n                            console.log(\n                              \"THIS IS ACTIVE PARAMS\",\n                              action.active_param\n                            );\n                            return (\n                              <>\n                                <a></a>\n                                <button\n                                  className={`btn btn-${\n                                    action.color || \"primary\"\n                                  } btn-sm`}\n                                  disabled={row[action.active_param]}\n                                  onClick={(e) => {\n                                    this.sendAction(e, action, row);\n                                  }}\n                                >\n                                  {action.name}{\" \"}\n                                </button>{\" \"}\n                                &nbsp;{\" \"}\n                              </>\n                            );\n                          })}\n                        </td>\n\n                      ) : (\n                        \"\"\n                      )}\n                       {this.props.show_edit_actions? <td><button onClick =\"editRow\">Edit</button> <button onClick={(e) => {\n                        this.redirectToPage(e,row)\n                        console.log(\"clicking view button \")\n                      }}>view</button></td>:  \" \"}\n                    </tr>\n                  );\n                })}\n               \n                \n              </tbody>\n            ) : (\n              <tr>\n                <td\n                  colSpan={this.props.columns.length + 2}\n                  className=\"centered\"\n                >\n                  <b>No Data to Display</b>\n                </td>\n              </tr>\n            )}\n          </table>\n        </Col>\n        <Col>\n          <Pagination\n            activePage={this.state.page || 1}\n            itemsCountPerPage={this.state.per_page || 20}\n            totalItemsCount={this.state.size}\n            pageRangeDisplayed={6}\n            itemClass=\"btn btn-success\"\n            innerClass=\"btn-group btn-group-toggle special pagination\"\n            onChange={this.navigateTo.bind(this)}\n          />\n        </Col>\n\n        <Col>\n          <ExcelExport\n            {...this.props}\n            additional_params={this.props.additional_params}\n            columns={this.props.columns}\n            axiosInstance={this.props.axiosInstance}\n          />\n        </Col>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}