{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/steaman-backend/src/lib/ReactWillPaginateTable/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Col, Input, Row, Button, Container } from \"reactstrap\";\nimport \"./index.scss\";\nimport _ from \"lodash\";\nimport qs from \"query-string\";\nimport NumberField from \"../../components/Controls/NumberField\";\nimport { formatDate } from \"../../components/misc/functions\";\nimport InputGroup from \"reactstrap/lib/InputGroup\";\nimport Pagination from \"react-js-pagination\";\nimport Secnd from \"../../lib/Secnd\";\nimport ExcelExport from \"./ExcelExport\";\nexport default class ReactWillPaginateTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      downloadData: [],\n      endpoint: this.props.endpoint,\n      per_page: this.props.per_page || 20,\n      page: this.props.page || 1,\n      search_string: \"\",\n      new_params: \"\"\n    };\n\n    this.componentDidMount = () => {\n      console.log(\"THIS IS STATUS OF LINK\", this.props.disable_link); // this.populateDownloadData();\n\n      this.populate();\n    };\n\n    this.populate = () => {\n      var params = qs.parse(this.props.location.search || {});\n      console.log(\"THESE ARE PARAMS\");\n      var new_params = this.props.location.search.replace(\"?\", \"\");\n      var search_string = params.search_string != \"undefined\" && params.search_string != undefined ? params.search_string : \"\";\n      this.setState({ ...this.state,\n        new_params: { ...new_params\n        },\n        search_string: search_string\n      });\n      console.log(\"THIS IS SEARCH STRING\", search_string);\n      this.setState({ ...this.state,\n        loading: true\n      }); // this.props.axiosInstance.get(this.props.endpoint+ `?per_page=${qs.per_page || this.state.per_page}&page=${params.page || this.state.page ||  1}&search_string=${search_string || this.state.search_string!= \"undefined\" || this.state.search_string!= undefined ? this.state.search_string : \"\"}&${this.props.additional_params}&${new_params}`)\n\n      this.props.axiosInstance.get(this.props.endpoint + `?per_page=${qs.per_page || this.state.per_page}&page=${params.page || this.state.page || 1}&search_string=${search_string}&${this.props.additional_params}&${new_params}`).then(result => {\n        console.log(\"RESULT IS \", result);\n        console.log(\"Populating Search string with\", params.search_string);\n        this.setState({\n          data: result.data.data,\n          size: result.data.size,\n          page: parseInt(result.data.page),\n          per_page: parseInt(result.data.per_page),\n          search_string: params.search_string != \"undefined\" || params.search_string != undefined ? params.search_string : \"\" || \"\",\n          loading: false\n        });\n\n        if (this.props.callback) {\n          this.props.callback(result.data.data);\n        }\n      }, error => {\n        console.log(error);\n        this.setState({ ...this.state,\n          loading: false\n        });\n      });\n    };\n\n    this.sendAction = (e, action, obj) => {\n      e.preventDefault();\n      e.stopPropagation(); // alert(`Visting ${action.url}`);\n\n      var new_action = action.url.replace(\":uuid\", obj.uuid);\n      this.props.axiosInstance.post(new_action).then(response => {\n        if (response.status == 202) {\n          var state_data = [...this.state.data];\n\n          var current_data_index = _.findIndex(state_data, cur_obj => {\n            return cur_obj.uuid == obj.uuid;\n          });\n\n          state_data[current_data_index] = response.data.data;\n          console.log(\"THIS IS THE CURRENT DATA\", current_data_index);\n          this.setState({ ...this.state,\n            data: [...state_data]\n          });\n        }\n      });\n    };\n\n    this.search = e => {\n      this.setState({ ...this.state,\n        page: 1,\n        loading: true\n      });\n      this.props.history.push(`${this.props.link_endpoint || this.props.endpoint}?page=1&per_page=${this.state.per_page}&search_string=${this.state.search_string}`);\n    };\n\n    this.inputChanged = e => {\n      console.log(e.target.name);\n      this.setState({ ...this.state,\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.navigateTo = page => {\n      var params = qs.parse(this.props.location ? this.props.location.search : \" \");\n      console.log(\"THESE ARE QUERY\", params);\n      console.log(\"NAVIGATING>>>\");\n\n      if (this.props.disable_link == true) {\n        return true;\n      } else {\n        console.log(page);\n        this.setState({ ...this.state,\n          loading: true\n        });\n        var search_string = \"\";\n\n        if (this.state.search_string == \"undefined\" || this.state.search_string == null) {\n          search_string = \"\";\n        } else {\n          search_string = this.state.search_string;\n        }\n\n        var link = `${this.props.link_endpoint || this.props.endpoint}?page=${page}&per_page=${this.state.per_page}&search_string=${search_string}${this.props.options ? this.props.options : \"\"}`;\n\n        if (params) {\n          Object.keys(params).forEach(key => {\n            if (key == \"type\") {\n              link += `&${key}=${params[key]}`;\n            }\n          });\n        }\n\n        this.props.history.push(link);\n      }\n    };\n  }\n\n  capitalizeFirstLetter(string) {\n    // return string\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control searchTextBox\",\n      name: \"search_string\",\n      value: this.state.search_string,\n      placeholder: \"Search for...\",\n      \"aria-label\": \"Search Terms\",\n      \"aria-describedby\": \"searchButton\",\n      onChange: this.inputChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"  full-width\",\n      color: \"primary\",\n      type: \"button\",\n      id: \"searchButton\",\n      onClick: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, \"Search\"))))), /*#__PURE__*/React.createElement(Col, {\n      md: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered table-striped table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }, \"#\"), this.props.columns.map(d => {\n      var name = d.name.replace(/_/g, \" \");\n      name = this.capitalizeFirstLetter(name);\n      return /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 26\n        }\n      }, name);\n    }), this.props.actions && this.props.actions.length > 0 ? /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 19\n      }\n    }, \"Actions\") : \"\")), this.state.loading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"loadingTD\",\n      colSpan: this.props.columns.length + 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, \"Loading\")) : this.state.data.length > 0 ? /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }, this.state.data.map((row, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        onClick: e => {\n          e.preventDefault();\n\n          if (!this.props.disable_link) {\n            var _this$props$link_endp;\n\n            this.props.history.push(`${(_this$props$link_endp = this.props.link_endpoint) !== null && _this$props$link_endp !== void 0 ? _this$props$link_endp : this.props.endpoint}/${row.uuid}`);\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 23\n        }\n      }, (this.state.page - 1) * this.state.per_page + index + 1), this.props.columns.map(col => {\n        var data;\n\n        if (col.number == true) {\n          data = data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"right\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(NumberField, {\n            value: row[col.name],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 31\n            }\n          }));\n        } else if (col.boolean == true) {\n          data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }\n          }, row[col.field || col.name] ? col.options[0] : col.options[1]);\n        } else if (col.date == true) {\n          data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }\n          }, formatDate(row[col.field || col.name]));\n        } else {\n          data = /*#__PURE__*/React.createElement(\"td\", {\n            className: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }\n          }, row[col.field || col.name]);\n        }\n\n        return data;\n      }), this.props.actions && this.props.actions.length > 0 ? /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 25\n        }\n      }, \" \", this.props.actions.map(action => {\n        console.log(\"THIS IS ACTIVE\", row);\n        console.log(\"THIS IS ACTIVE PARAMS\", action.active_param);\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          className: `btn btn-${action.color || \"primary\"} btn-sm`,\n          disabled: row[action.active_param],\n          onClick: e => {\n            this.sendAction(e, action, row);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 33\n          }\n        }, action.name, \" \"), \" \", \"\\xA0\", \" \");\n      })) : \"\");\n    })) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: this.props.columns.length + 2,\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 19\n      }\n    }, \"No Data to Display\"))))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      activePage: this.state.page || 1,\n      itemsCountPerPage: this.state.per_page || 20,\n      totalItemsCount: this.state.size,\n      pageRangeDisplayed: 6,\n      itemClass: \"btn btn-success\",\n      innerClass: \"btn-group btn-group-toggle special pagination\",\n      onChange: this.navigateTo.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ExcelExport, Object.assign({}, this.props, {\n      additional_params: this.props.additional_params,\n      columns: this.props.columns,\n      axiosInstance: this.props.axiosInstance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\n\nconst EditableCell = ({\n  value: initialValue,\n  row: {\n    index\n  },\n  column: {\n    id\n  },\n  updateMyData // This is a custom function that we supplied to our table instance\n\n}) => {\n  // We need to keep and update the state of the cell normally\n  const [value, setValue] = React.useState(initialValue);\n\n  const onChange = e => {\n    setValue(e.target.value);\n  }; // We'll only update the external data when the input is blurred\n\n\n  const onBlur = () => {\n    updateMyData(index, id, value);\n  }; // If the initialValue is changed external, sync it up with our state\n\n\n  React.useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n  return /*#__PURE__*/React.createElement(\"input\", {\n    value: value,\n    onChange: onChange,\n    onBlur: onBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 10\n    }\n  });\n}; // Set our editable cell renderer as the default Cell renderer\n\n\nconst defaultColumn = {\n  Cell: EditableCell\n};","map":{"version":3,"sources":["/Users/mac/Desktop/steaman-backend/src/lib/ReactWillPaginateTable/index.jsx"],"names":["React","Component","Col","Input","Row","Button","Container","_","qs","NumberField","formatDate","InputGroup","Pagination","Secnd","ExcelExport","ReactWillPaginateTable","state","data","downloadData","endpoint","props","per_page","page","search_string","new_params","componentDidMount","console","log","disable_link","populate","params","parse","location","search","replace","undefined","setState","loading","axiosInstance","get","additional_params","then","result","size","parseInt","callback","error","sendAction","e","action","obj","preventDefault","stopPropagation","new_action","url","uuid","post","response","status","state_data","current_data_index","findIndex","cur_obj","history","push","link_endpoint","inputChanged","target","name","value","navigateTo","link","options","Object","keys","forEach","key","capitalizeFirstLetter","string","charAt","toUpperCase","slice","render","columns","map","d","actions","length","row","index","col","number","boolean","field","date","active_param","color","bind","EditableCell","initialValue","column","id","updateMyData","setValue","useState","onChange","onBlur","useEffect","defaultColumn","Cell"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Input, Row, Button, Container } from \"reactstrap\";\nimport \"./index.scss\";\nimport _ from \"lodash\";\nimport qs from \"query-string\";\nimport NumberField from \"../../components/Controls/NumberField\";\nimport { formatDate } from \"../../components/misc/functions\";\nimport InputGroup from \"reactstrap/lib/InputGroup\";\nimport Pagination from \"react-js-pagination\";\nimport Secnd from \"../../lib/Secnd\"\nimport ExcelExport from \"./ExcelExport\";\n\nexport default class ReactWillPaginateTable extends Component {\n  state = {\n    data: [],\n    downloadData: [],\n    endpoint: this.props.endpoint,\n    per_page: this.props.per_page || 20,\n    page: this.props.page || 1,\n    search_string: \"\",\n    new_params: \"\",\n  };\n  // populateDownloadData = () => {\n  //   var params = qs.parse(this.props.location.search || {});\n  //   console.log(\"Populating download data\");\n  //   var new_params = this.props.location.search.replace(\"?\", \"\");\n  //   var search_string =\n  //     params.search_string != \"undefined\" && params.search_string != undefined\n  //       ? params.search_string\n  //       : \"\";\n  //   this.props.axiosInstance\n  //     .get(\n  //       this.props.endpoint +\n  //         `?search_string=${search_string}&all=true&${this.props.additional_params}&${new_params}`\n  //     )\n  //     .then((response) => {\n  //       console.log(\"THIS IS RESPONSE FON SERVER\", response);\n\n  //       if (response.status == 200) {\n  //         console.log(\"Populating and setting state download data\");\n  //         this.setState({\n  //           ...this.state,\n  //           downloadData: response.data.data,\n  //         });\n  //       }\n  //     });\n  // };\n  componentDidMount = () => {\n    console.log(\"THIS IS STATUS OF LINK\", this.props.disable_link);\n    // this.populateDownloadData();\n    this.populate();\n  };\n\n  populate = () => {\n    var params = qs.parse(this.props.location.search || {});\n    console.log(\"THESE ARE PARAMS\");\n    var new_params = this.props.location.search.replace(\"?\", \"\");\n    var search_string =\n      params.search_string != \"undefined\" && params.search_string != undefined\n        ? params.search_string\n        : \"\";\n    this.setState({\n      ...this.state,\n      new_params: { ...new_params },\n      search_string: search_string,\n    });\n\n    console.log(\"THIS IS SEARCH STRING\", search_string);\n\n    this.setState({\n      ...this.state,\n      loading: true,\n    });\n    // this.props.axiosInstance.get(this.props.endpoint+ `?per_page=${qs.per_page || this.state.per_page}&page=${params.page || this.state.page ||  1}&search_string=${search_string || this.state.search_string!= \"undefined\" || this.state.search_string!= undefined ? this.state.search_string : \"\"}&${this.props.additional_params}&${new_params}`)\n    this.props.axiosInstance\n      .get(\n        this.props.endpoint +\n          `?per_page=${qs.per_page || this.state.per_page}&page=${\n            params.page || this.state.page || 1\n          }&search_string=${search_string}&${\n            this.props.additional_params\n          }&${new_params}`\n      )\n      .then(\n        (result) => {\n          console.log(\"RESULT IS \", result);\n          console.log(\"Populating Search string with\", params.search_string);\n          this.setState({\n            data: result.data.data,\n            size: result.data.size,\n            page: parseInt(result.data.page),\n            per_page: parseInt(result.data.per_page),\n            search_string:\n              params.search_string != \"undefined\" ||\n              params.search_string != undefined\n                ? params.search_string\n                : \"\" || \"\",\n            loading: false,\n          });\n          if (this.props.callback) {\n            this.props.callback(result.data.data);\n          }\n        },\n        (error) => {\n          console.log(error);\n          this.setState({\n            ...this.state,\n            loading: false,\n          });\n        }\n      );\n  };\n\n  sendAction = (e, action, obj) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // alert(`Visting ${action.url}`);\n    var new_action = action.url.replace(\":uuid\", obj.uuid);\n\n    this.props.axiosInstance.post(new_action).then((response) => {\n      if (response.status == 202) {\n        var state_data = [...this.state.data];\n\n        var current_data_index = _.findIndex(state_data, (cur_obj) => {\n          return cur_obj.uuid == obj.uuid;\n        });\n        state_data[current_data_index] = response.data.data;\n        console.log(\"THIS IS THE CURRENT DATA\", current_data_index);\n        this.setState({\n          ...this.state,\n          data: [...state_data],\n        });\n      }\n    });\n  };\n\n  capitalizeFirstLetter(string) {\n    // return string\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  search = (e) => {\n    this.setState({\n      ...this.state,\n      page: 1,\n      loading: true,\n    });\n    this.props.history.push(\n      `${this.props.link_endpoint || this.props.endpoint}?page=1&per_page=${\n        this.state.per_page\n      }&search_string=${this.state.search_string}`\n    );\n  };\n  inputChanged = (e) => {\n    console.log(e.target.name);\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.value,\n    });\n  };\n  navigateTo = (page) => {\n    var params = qs.parse(\n      this.props.location ? this.props.location.search : \" \"\n    );\n    console.log(\"THESE ARE QUERY\", params);\n    console.log(\"NAVIGATING>>>\");\n    if (this.props.disable_link == true) {\n      return true;\n    } else {\n      console.log(page);\n      this.setState({\n        ...this.state,\n        loading: true,\n      });\n      var search_string = \"\";\n      if (\n        this.state.search_string == \"undefined\" ||\n        this.state.search_string == null\n      ) {\n        search_string = \"\";\n      } else {\n        search_string = this.state.search_string;\n      }\n      var link = `${\n        this.props.link_endpoint || this.props.endpoint\n      }?page=${page}&per_page=${\n        this.state.per_page\n      }&search_string=${search_string}${\n        this.props.options ? this.props.options : \"\"\n      }`;\n      if (params) {\n        Object.keys(params).forEach((key) => {\n          if (key == \"type\") {\n            link += `&${key}=${params[key]}`;\n          }\n        });\n      }\n      this.props.history.push(link);\n    }\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <Col>\n          <Row>\n            <Col md={12}>\n              <form onSubmit={this.search}>\n                <InputGroup>\n                  <Input\n                    type=\"text\"\n                    className=\"form-control searchTextBox\"\n                    name=\"search_string\"\n                    value={this.state.search_string}\n                    placeholder=\"Search for...\"\n                    aria-label=\"Search Terms\"\n                    aria-describedby=\"searchButton\"\n                    onChange={this.inputChanged}\n                  />\n                  <div class=\"input-group-append\">\n                    <Button\n                      className=\"  full-width\"\n                      color=\"primary\"\n                      type=\"button\"\n                      id=\"searchButton\"\n                      onClick={this.search}\n                    >\n                      Search\n                    </Button>\n                  </div>\n                </InputGroup>\n              </form>\n            </Col>\n            <Col md={1}></Col>\n          </Row>\n        </Col>\n        <Col md={12}>\n          <table className=\"table table-bordered table-striped table-hover\">\n            <thead className=\"thead-light\">\n              <tr>\n                <th>#</th>\n                {this.props.columns.map((d) => {\n                  var name = d.name.replace(/_/g, \" \");\n                  name = this.capitalizeFirstLetter(name);\n                  return <th>{name}</th>;\n                })}\n                {this.props.actions && this.props.actions.length > 0 ? (\n                  <th>Actions</th>\n                ) : (\n                  \"\"\n                )}\n              </tr>\n            </thead>\n            {this.state.loading ? (\n              <tr>\n                <td\n                  className=\"loadingTD\"\n                  colSpan={this.props.columns.length + 2}\n                >\n                  Loading\n                </td>\n              </tr>\n            ) : this.state.data.length > 0 ? (\n              <tbody>\n                {this.state.data.map((row, index) => {\n                  return (\n                   \n                    <tr\n                      onClick={(e) => {\n                        e.preventDefault();\n                        if (!this.props.disable_link) {\n                          this.props.history.push(\n                            `${\n                              this.props.link_endpoint ?? this.props.endpoint\n                            }/${row.uuid}`\n                          );\n                        }\n                      }}\n                    >\n                      <td>\n                        {(this.state.page - 1) * this.state.per_page +\n                          index +\n                          1}\n                      </td>\n                      {this.props.columns.map((col) => {\n                        var data;\n                        if (col.number == true) {\n                          data = data = (\n                            <td className={\"right\"}>\n                              <NumberField value={row[col.name]} />\n                            </td>\n                          );\n                        } else if (col.boolean == true) {\n                          data = (\n                            <td className={\"\"}>\n                              {row[col.field || col.name]\n                                ? col.options[0]\n                                : col.options[1]}\n                            </td>\n                          );\n                        } else if (col.date == true) {\n                          data = (\n                            <td className={\"\"}>\n                              {formatDate(row[col.field || col.name])}\n                            </td>\n                          );\n                        } else {\n                          data = (\n                            <td className={\"\"}>{row[col.field || col.name]}</td>\n                          );\n                        }\n\n                        return data;\n                      })}\n                      {this.props.actions && this.props.actions.length > 0 ? (\n                        <td>\n                          {\" \"}\n                          {this.props.actions.map((action) => {\n                            console.log(\"THIS IS ACTIVE\", row);\n                            console.log(\n                              \"THIS IS ACTIVE PARAMS\",\n                              action.active_param\n                            );\n                            return (\n                              <>\n                                <a></a>\n                                <button\n                                  className={`btn btn-${\n                                    action.color || \"primary\"\n                                  } btn-sm`}\n                                  disabled={row[action.active_param]}\n                                  onClick={(e) => {\n                                    this.sendAction(e, action, row);\n                                  }}\n                                >\n                                  {action.name}{\" \"}\n                                </button>{\" \"}\n                                &nbsp;{\" \"}\n                              </>\n                            );\n                          })}\n                        </td>\n                      ) : (\n                        \"\"\n                      )}\n                    </tr>\n                  );\n                })}\n              </tbody>\n            ) : (\n              <tr>\n                <td\n                  colSpan={this.props.columns.length + 2}\n                  className=\"centered\"\n                >\n                  <b>No Data to Display</b>\n                </td>\n              </tr>\n            )}\n          </table>\n        </Col>\n        <Col>\n          <Pagination\n            activePage={this.state.page || 1}\n            itemsCountPerPage={this.state.per_page || 20}\n            totalItemsCount={this.state.size}\n            pageRangeDisplayed={6}\n            itemClass=\"btn btn-success\"\n            innerClass=\"btn-group btn-group-toggle special pagination\"\n            onChange={this.navigateTo.bind(this)}\n          />\n        </Col>\n\n        <Col>\n          <ExcelExport\n            {...this.props}\n            additional_params={this.props.additional_params}\n            columns={this.props.columns}\n            axiosInstance={this.props.axiosInstance}\n          />\n        </Col>\n      </React.Fragment>\n    );\n  }\n}\nconst EditableCell = ({\n  value: initialValue,\n  row: { index },\n  column: { id },\n  updateMyData, // This is a custom function that we supplied to our table instance\n}) => {\n  // We need to keep and update the state of the cell normally\n  const [value, setValue] = React.useState(initialValue)\n\n  const onChange = e => {\n    setValue(e.target.value)\n  }\n\n  // We'll only update the external data when the input is blurred\n  const onBlur = () => {\n    updateMyData(index, id, value)\n  }\n\n  // If the initialValue is changed external, sync it up with our state\n  React.useEffect(() => {\n    setValue(initialValue)\n  }, [initialValue])\n\n  return <input value={value} onChange={onChange} onBlur={onBlur} />\n}\n\n// Set our editable cell renderer as the default Cell renderer\nconst defaultColumn = {\n  Cell: EditableCell,\n}\n"]},"metadata":{},"sourceType":"module"}