{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/steaman-backend/src/components/Modals/CancelModal.jsx\";\nimport React from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { FormGroup, Input } from \"reactstrap\";\nimport Col from \"reactstrap/lib/Col\";\nimport Label from \"reactstrap/lib/Label\";\nimport Axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport axiosInstance, { baseurl } from \"../misc/Axios\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Alert from \"reactstrap/lib/Alert\";\nimport _ from \"lodash\";\n\nclass CancelModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.onChange = e => {\n      this.setState({ ...this.state,\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.cancel = () => {\n      var _this$state$reason;\n\n      axiosInstance.baseurl = baseurl;\n      axiosInstance.delete(baseurl + `/v1/${this.props.action_url}?reason=${(_this$state$reason = this.state.reason) !== null && _this$state$reason !== void 0 ? _this$state$reason : \"\"}`).then(response => {\n        console.log(response);\n        this.props.setObject(response.data);\n      }, error => {\n        console.log(\"THIS IS ERROR\", error.response.data);\n        this.setState({ ...this.state,\n          errors: error.response.data.errors\n        });\n      });\n    };\n\n    this.state = {\n      modal: this.props.isOpen\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.props.isOpen,\n      modalTransition: {\n        timeout: 100\n      },\n      backdropTransition: {\n        timeout: 100\n      },\n      toggle: this.toggle,\n      className: this.props.className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.props.toggle.bind(this.props.parentForm),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, \"Cancel \", this.props.object_name), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, !_.isEmpty(this.state.errors) ? /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, \"The Following Error Occurred\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, this.state.errors.map(err => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 30\n        }\n      }, err);\n    })))) : \"\", /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-horizontal\",\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"Cancelled by\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"reason\",\n      placeholder: \"Cancelled By\",\n      value: `${this.props.authentication.user.first_name} ${this.props.authentication.user.last_name}`,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"Cancellation Reason\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      rows: 10,\n      name: \"reason\",\n      placeholder: \"Cancellation Reason\",\n      onChange: this.onChange,\n      value: this.state.reason,\n      readOnly: this.state.readonly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"form-control\",\n      color: \"danger\",\n      onClick: this.cancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Cancel \", this.props.object_name)))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  authentication: state.authentication\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(actions, dispatch)\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CancelModal));","map":{"version":3,"sources":["/Users/mac/Desktop/steaman-backend/src/components/Modals/CancelModal.jsx"],"names":["React","FaSearch","Button","Modal","ModalHeader","ModalBody","ModalFooter","FormGroup","Input","Col","Label","Axios","Link","withRouter","axiosInstance","baseurl","actions","connect","bindActionCreators","Alert","_","CancelModal","Component","constructor","props","state","onChange","e","setState","target","name","value","cancel","delete","action_url","reason","then","response","console","log","setObject","data","error","errors","modal","isOpen","toggle","bind","prevState","render","timeout","className","parentForm","object_name","isEmpty","map","err","onSubmit","authentication","user","first_name","last_name","readonly","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AAEA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,WAAhD,QAAmE,YAAnE;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,YAAjC;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AAEA,OAAOC,aAAP,IAAwBC,OAAxB,QAAuC,eAAvC;AACA,OAAO,KAAKC,OAAZ,MAAyB,eAAzB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;;AACA,MAAMC,WAAN,SAA0BrB,KAAK,CAACsB,SAAhC,CAA0C;AAExCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SADnBC,KACmB,GADX,EACW;;AAAA,SAQnBC,QARmB,GAQPC,CAAD,IAAO;AAChB,WAAKC,QAAL,CAAc,EACZ,GAAG,KAAKH,KADI;AAEZ,SAACE,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAFd,OAAd;AAID,KAbkB;;AAAA,SAcnBC,MAdmB,GAcV,MAAM;AAAA;;AACblB,MAAAA,aAAa,CAACC,OAAd,GAAwBA,OAAxB;AACAD,MAAAA,aAAa,CACVmB,MADH,CAEIlB,OAAO,GACJ,OAAM,KAAKS,KAAL,CAAWU,UAAW,WAA7B,sBAAuC,KAAKT,KAAL,CAAWU,MAAlD,mEAA4D,EAAG,EAHrE,EAKGC,IALH,CAMKC,QAAD,IAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,aAAKb,KAAL,CAAWgB,SAAX,CAAqBH,QAAQ,CAACI,IAA9B;AACD,OATL,EAUKC,KAAD,IAAW;AACTJ,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BG,KAAK,CAACL,QAAN,CAAeI,IAA5C;AACA,aAAKb,QAAL,CAAc,EACZ,GAAG,KAAKH,KADI;AAEZkB,UAAAA,MAAM,EAAED,KAAK,CAACL,QAAN,CAAeI,IAAf,CAAoBE;AAFhB,SAAd;AAID,OAhBL;AAkBD,KAlCkB;;AAEjB,SAAKlB,KAAL,GAAa;AACXmB,MAAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWqB;AADP,KAAb;AAGA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AA6BDD,EAAAA,MAAM,GAAG;AACP,SAAKlB,QAAL,CAAeoB,SAAD,KAAgB;AAC5BJ,MAAAA,KAAK,EAAE,CAACI,SAAS,CAACJ;AADU,KAAhB,CAAd;AAGD;;AAEDK,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AACE,MAAA,MAAM,EAAE,KAAKzB,KAAL,CAAWqB,MADrB;AAEE,MAAA,eAAe,EAAE;AAAEK,QAAAA,OAAO,EAAE;AAAX,OAFnB;AAGE,MAAA,kBAAkB,EAAE;AAAEA,QAAAA,OAAO,EAAE;AAAX,OAHtB;AAIE,MAAA,MAAM,EAAE,KAAKJ,MAJf;AAKE,MAAA,SAAS,EAAE,KAAKtB,KAAL,CAAW2B,SALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,oBAAC,WAAD;AAAa,MAAA,MAAM,EAAE,KAAK3B,KAAL,CAAWsB,MAAX,CAAkBC,IAAlB,CAAuB,KAAKvB,KAAL,CAAW4B,UAAlC,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACU,KAAK5B,KAAL,CAAW6B,WADrB,CAPF,eAUE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAACjC,CAAC,CAACkC,OAAF,CAAU,KAAK7B,KAAL,CAAWkB,MAArB,CAAD,gBACC,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKlB,KAAL,CAAWkB,MAAX,CAAkBY,GAAlB,CAAuBC,GAAD,IAAS;AAC9B,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,GAAL,CAAP;AACD,KAFA,CADH,CAFF,CADF,CADD,GAYC,EAbJ,eAeE;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAkC,MAAA,QAAQ,EAAE,KAAKC,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAYE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,WAAW,EAAC,cAHd;AAIE,MAAA,KAAK,EAAG,GAAE,KAAKjC,KAAL,CAAWkC,cAAX,CAA0BC,IAA1B,CAA+BC,UAAW,IAAG,KAAKpC,KAAL,CAAWkC,cAAX,CAA0BC,IAA1B,CAA+BE,SAAU,EAJlG;AAKE,MAAA,QAAQ,EAAE,IALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAZF,eAsBE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAEE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAE,EAFR;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,WAAW,EAAC,qBAJd;AAKE,MAAA,QAAQ,EAAE,KAAKnC,QALjB;AAME,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWU,MANpB;AAOE,MAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWqC,QAPvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAtBF,eAkCE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,KAAK,EAAC,QAFR;AAGE,MAAA,OAAO,EAAE,KAAK9B,MAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKU,KAAKR,KAAL,CAAW6B,WALrB,CADF,CAlCF,CAfF,CAVF,eAsEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtEF,CADF,CADF;AAoFD;;AAhIuC;;AAmI1C,MAAMU,eAAe,GAAItC,KAAD,KAAY;AAAEiC,EAAAA,cAAc,EAAEjC,KAAK,CAACiC;AAAxB,CAAZ,CAAxB;;AACA,MAAMM,kBAAkB,GAAIC,QAAD,KAAe;AACxCjD,EAAAA,OAAO,EAAEE,kBAAkB,CAACF,OAAD,EAAUiD,QAAV;AADa,CAAf,CAA3B;;AAIA,eAAepD,UAAU,CACvBI,OAAO,CAAC8C,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C3C,WAA7C,CADuB,CAAzB","sourcesContent":["import React from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\n\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { FormGroup, Input } from \"reactstrap\";\nimport Col from \"reactstrap/lib/Col\";\nimport Label from \"reactstrap/lib/Label\";\nimport Axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport axiosInstance, { baseurl } from \"../misc/Axios\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Alert from \"reactstrap/lib/Alert\";\nimport _ from \"lodash\";\nclass CancelModal extends React.Component {\n  state = {};\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: this.props.isOpen,\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  onChange = (e) => {\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.value,\n    });\n  };\n  cancel = () => {\n    axiosInstance.baseurl = baseurl;\n    axiosInstance\n      .delete(\n        baseurl +\n          `/v1/${this.props.action_url}?reason=${this.state.reason ?? \"\"}`\n      )\n      .then(\n        (response) => {\n          console.log(response);\n          this.props.setObject(response.data);\n        },\n        (error) => {\n          console.log(\"THIS IS ERROR\", error.response.data);\n          this.setState({\n            ...this.state,\n            errors: error.response.data.errors,\n          });\n        }\n      );\n  };\n  toggle() {\n    this.setState((prevState) => ({\n      modal: !prevState.modal,\n    }));\n  }\n\n  render() {\n    return (\n      <div>\n        <Modal\n          isOpen={this.props.isOpen}\n          modalTransition={{ timeout: 100 }}\n          backdropTransition={{ timeout: 100 }}\n          toggle={this.toggle}\n          className={this.props.className}\n        >\n          <ModalHeader toggle={this.props.toggle.bind(this.props.parentForm)}>\n            Cancel {this.props.object_name}\n          </ModalHeader>\n          <ModalBody>\n            {!_.isEmpty(this.state.errors) ? (\n              <Col md={12}>\n                <Alert color=\"danger\">\n                  <h6>The Following Error Occurred</h6>\n                  <ul>\n                    {this.state.errors.map((err) => {\n                      return <li>{err}</li>;\n                    })}\n                  </ul>\n                </Alert>\n              </Col>\n            ) : (\n              \"\"\n            )}\n            <form className=\"form-horizontal\" onSubmit={this.onSubmit}>\n              {/* <FormGroup className=\"col-md-12\">\n                <Label>Current Password</Label>\n                <Input\n                  type=\"password\"\n                  name=\"current_password\"\n                  placeholder=\"Current Password\"\n                  onChange={this.onChange}\n                  value={this.state.account.current_password}\n                  readOnly={this.state.readonly}\n                />\n              </FormGroup> */}\n              <FormGroup className=\"col-md-12\">\n                <Label>Cancelled by</Label>\n                <Input\n                  type=\"text\"\n                  name=\"reason\"\n                  placeholder=\"Cancelled By\"\n                  value={`${this.props.authentication.user.first_name} ${this.props.authentication.user.last_name}`}\n                  readOnly={true}\n                />\n              </FormGroup>\n              <FormGroup className=\"col-md-12\">\n                <Label>Cancellation Reason</Label>\n                <Input\n                  type=\"textarea\"\n                  rows={10}\n                  name=\"reason\"\n                  placeholder=\"Cancellation Reason\"\n                  onChange={this.onChange}\n                  value={this.state.reason}\n                  readOnly={this.state.readonly}\n                />\n              </FormGroup>\n              <Col md={12}>\n                <Button\n                  className=\"form-control\"\n                  color=\"danger\"\n                  onClick={this.cancel}\n                >\n                  Cancel {this.props.object_name}\n                </Button>\n              </Col>\n            </form>\n          </ModalBody>\n          <ModalFooter>\n            {/* <Button color=\"primary\" className onClick={this.props.toggle.bind(this.props.parentForm)}>OK</Button>{' '} */}\n            {/* <Button\n              color=\"secondary\"\n              onClick={this.props.toggle.bind(this.props.parentForm)}\n            >\n              Cancel\n            </Button> */}\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({ authentication: state.authentication });\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators(actions, dispatch),\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CancelModal)\n);\n"]},"metadata":{},"sourceType":"module"}