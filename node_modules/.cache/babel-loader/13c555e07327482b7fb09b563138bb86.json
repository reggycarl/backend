{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/steaman-backend/src/components/UserAccounts/UserAccount.jsx\";\nimport React, { Component } from \"react\";\nimport { Card, CardTitle, CardBody, Row, Col, CardText, Form, FormGroup, Input, Label, FormText, Button } from \"reactstrap\";\nimport Select from \"../Controls/Select\";\nimport styles from \"./users.scss\";\nimport { FaMoneyBill, FaCoins } from \"react-icons/fa\";\nimport moment from \"moment\";\nimport axiosInstance, { baseurl } from \"../misc/Axios\";\nimport SubmitButton from \"../Controls/SubmitButton\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getCompanies } from \"../misc/functions\";\nimport { history } from \"../../index\";\nimport NumberField from \"../Controls/NumberField\";\nimport \"./users.scss\";\nimport Dropzone from \"react-dropzone\";\nimport PhoneInput from \"react-phone-input-2\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nclass UserAccount extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {\n        photo_id: null,\n        description: \"\",\n        link: \"\"\n      },\n      editing: false,\n      readOnly: this.props.match.params.id != \"\" && this.props.match.params.id != null,\n      user_uuid: this.props.match.params.id,\n      existing_record: this.props.match.params.id != \"\" && this.props.match.params.id != null\n    };\n\n    this.onChange = e => {\n      console.log(e.target.name);\n      this.setState({ ...this.state,\n        user: { ...this.state.user,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.handleChangeSelect = (selectedOption, val) => {\n      var state = { ...this.state,\n        user: { ...this.state.user,\n          [selectedOption]: val.value\n        },\n        [selectedOption]: val\n      };\n      this.setState({ ...state\n      });\n    };\n\n    this.onDateChanged = (momentdate, attr_name) => {\n      // console.log(\"ClassName is\", momentdate.constructor.name)\n      var new_date = new moment();\n\n      if (momentdate.constructor.name == new_date.constructor.name) {\n        var new_state = { ...this.state,\n          user: { ...this.state.user,\n            [attr_name]: momentdate\n          }\n        };\n        this.setState({ ...new_state\n        });\n      } else {\n        console.log(this.state.user[attr_name]);\n        var date = new moment(this.state.user[attr_name]);\n        var new_state = { ...this.state,\n          user: { ...this.state.user,\n            [attr_name]: date\n          }\n        };\n        this.setState({ ...new_state\n        });\n      }\n    };\n\n    this.setUser = (state, user) => {\n      var new_state = { ...state,\n        user: user\n      };\n      return new_state;\n    };\n\n    this.onValueChange = (e, val) => {\n      console.log(val);\n      this.setState({ ...this.state,\n        user: { ...this.state.user,\n          [e]: val.floatValue\n        }\n      });\n    };\n\n    this.onPhoneChange = phone => {\n      this.setState({ ...this.state,\n        user: { ...this.state.user,\n          phone: phone\n        }\n      });\n    };\n\n    this.handleChangeSelect = (selectedOption, val) => {\n      var state = { ...this.state,\n        user: { ...this.state.user,\n          [selectedOption]: val.value\n        },\n        [selectedOption]: val\n      };\n      this.setState({ ...state\n      });\n    };\n\n    this.onDrop = (name, acceptedFiles) => {\n      console.log(name);\n      console.log(acceptedFiles);\n\n      if (this.state.readOnly != true) {\n        acceptedFiles.map((file, i) => {\n          var formData = new FormData();\n          formData.append(\"file\", file);\n          axiosInstance.post(\"/photos\", formData).then(response => {\n            this.setState({ ...this.state,\n              user: { ...this.state.user,\n                photo_id: response.data.photo.id,\n                photo: response.data.photo\n              }\n            });\n          });\n        });\n      }\n    };\n\n    this.componentDidMount = () => {\n      var self = this;\n      var link = this.props.authentication.default_path == \"/partners/\" ? \"/partners/users/\" : \"/admins/users/\";\n      console.log(\"FECHING EXISTING RECORD\");\n      axiosInstance.get(`${link}${this.state.user_uuid}`).then(response => {\n        var new_state = { ...this.state,\n          existing_record: true,\n          readOnly: true\n        };\n        new_state = self.setUser(new_state, response.data.user);\n        self.setState({ ...new_state\n        });\n      });\n    };\n\n    this.disableUser = () => {\n      axiosInstance.get(`admins/users/${this.state.user_uuid}/disable`).then(response => {\n        var new_state = { ...this.state,\n          existing_record: true,\n          readOnly: true\n        };\n        new_state = this.setUser(new_state, response.data.user);\n        this.setState({ ...new_state\n        });\n      });\n    };\n\n    this.onSubmit = e => {\n      var link = this.props.authentication.default_path == \"/partners/\" ? \"/partners/users/\" : \"/admins/partners/users/\";\n      e.preventDefault();\n      var self = this;\n\n      if (self.state.readOnly == true && self.state.existing_record == true) {\n        self.setState({ ...self.state,\n          readOnly: false\n        });\n      } else {\n        var instance;\n\n        if (self.state.existing_record != true) {\n          instance = axiosInstance.post(`${link}`, {\n            user: this.state.user\n          });\n        } else {\n          instance = axiosInstance.put(`${link}${this.state.user_id || this.state.user.uuid}`, {\n            user: this.state.user\n          });\n        }\n\n        instance.then(response => {\n          console.log(\"RESPONSE\", response); // console.log(\"Setting state\")\n\n          if (this.state.existing_record == true) {\n            var new_state = this.setUser(this.state, response.data.user);\n            console.log(\"THIS IS NEW STATE\", new_state);\n            this.setState({ ...new_state,\n              readOnly: true\n            });\n          } else {\n            this.props.history.push(`${this.props.authentication == \"/partners/\" ? \"/partners/settings/users/\" : \"/admins/partners/users/\"}${response.data.user.uuid}`); // this.setState({ ...this.state, readOnly: true, existing_record: true, editing: false })\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, \"User\", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"btn btn-success btn-sm\",\n      to: \"/partners/settings/users/new\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, \"New User\")))), /*#__PURE__*/React.createElement(CardText, {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      className: \"boxContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"align-items-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pictureBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      className: \"subBox align-self-end align-items-center \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"h-100 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaMoneyBill, {\n      color: \"#fff\",\n      size: 30,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(NumberField, {\n      className: \"figures\",\n      value: this.state.user.account_balance || 0.0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      className: \"subBox align-self-end h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(FaCoins, {\n      color: \"#fff\",\n      size: 30,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(NumberField, {\n      decimalScale: 0,\n      className: \"figures\",\n      value: this.state.user.points || 0.0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      md: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 31\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"first_name\",\n      value: this.state.user.first_name,\n      placeholder: \"First Name\",\n      onChange: this.onChange,\n      readOnly: this.state.readOnly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 31\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 31\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"last_name\",\n      value: this.state.user.last_name,\n      placeholder: \"Last Name\",\n      onChange: this.onChange,\n      readOnly: this.state.readOnly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 31\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 31\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"email\",\n      value: this.state.user.email,\n      placeholder: \"user@email.com\",\n      onChange: this.onChange,\n      readOnly: this.state.readOnly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 31\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 31\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(PhoneInput, {\n      country: \"gh\",\n      value: this.state.user.phone,\n      disabled: this.state.readOnly,\n      readOnly: this.state.readOnly,\n      countryCodeEditable: false,\n      disableDropdown: true,\n      className: \"test-class\",\n      onChange: phone => this.onPhoneChange(phone),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 31\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SubmitButton, {\n      disabled: this.state.user.disabled,\n      onClick: this.onSubmit,\n      readOnly: this.state.readOnly,\n      editing: this.state.editing,\n      existing_record: this.state.existing_record,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 23\n      }\n    }), \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      onClick: this.disableUser,\n      disabled: this.state.user.disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 23\n      }\n    }, \"Disable User\")))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  authentication: state.authentication\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(actions, dispatch)\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UserAccount));","map":{"version":3,"sources":["/Users/mac/Desktop/steaman-backend/src/components/UserAccounts/UserAccount.jsx"],"names":["React","Component","Card","CardTitle","CardBody","Row","Col","CardText","Form","FormGroup","Input","Label","FormText","Button","Select","styles","FaMoneyBill","FaCoins","moment","axiosInstance","baseurl","SubmitButton","Link","withRouter","getCompanies","history","NumberField","Dropzone","PhoneInput","actions","connect","bindActionCreators","UserAccount","state","user","photo_id","description","link","editing","readOnly","props","match","params","id","user_uuid","existing_record","onChange","e","console","log","target","name","setState","value","handleChangeSelect","selectedOption","val","onDateChanged","momentdate","attr_name","new_date","constructor","new_state","date","setUser","onValueChange","floatValue","onPhoneChange","phone","onDrop","acceptedFiles","map","file","i","formData","FormData","append","post","then","response","data","photo","componentDidMount","self","authentication","default_path","get","disableUser","onSubmit","preventDefault","instance","put","user_id","uuid","push","render","account_balance","points","first_name","last_name","email","disabled","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  Row,\n  Col,\n  CardText,\n  Form,\n  FormGroup,\n  Input,\n  Label,\n  FormText,\n  Button,\n} from \"reactstrap\";\nimport Select from \"../Controls/Select\";\nimport styles from \"./users.scss\";\nimport { FaMoneyBill, FaCoins } from \"react-icons/fa\";\nimport moment from \"moment\";\nimport axiosInstance, { baseurl } from \"../misc/Axios\";\nimport SubmitButton from \"../Controls/SubmitButton\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getCompanies } from \"../misc/functions\";\nimport { history } from \"../../index\";\nimport NumberField from \"../Controls/NumberField\";\nimport \"./users.scss\";\nimport Dropzone from \"react-dropzone\";\nimport PhoneInput from \"react-phone-input-2\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nclass UserAccount extends Component {\n  state = {\n    user: {\n      photo_id: null,\n      description: \"\",\n      link: \"\",\n    },\n    editing: false,\n    readOnly:\n      this.props.match.params.id != \"\" && this.props.match.params.id != null,\n    user_uuid: this.props.match.params.id,\n    existing_record:\n      this.props.match.params.id != \"\" && this.props.match.params.id != null,\n  };\n  onChange = (e) => {\n    console.log(e.target.name);\n    this.setState({\n      ...this.state,\n      user: {\n        ...this.state.user,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  handleChangeSelect = (selectedOption, val) => {\n    var state = {\n      ...this.state,\n      user: {\n        ...this.state.user,\n        [selectedOption]: val.value,\n      },\n      [selectedOption]: val,\n    };\n    this.setState({ ...state });\n  };\n  onDateChanged = (momentdate, attr_name) => {\n    // console.log(\"ClassName is\", momentdate.constructor.name)\n    var new_date = new moment();\n    if (momentdate.constructor.name == new_date.constructor.name) {\n      var new_state = {\n        ...this.state,\n        user: {\n          ...this.state.user,\n          [attr_name]: momentdate,\n        },\n      };\n      this.setState({ ...new_state });\n    } else {\n      console.log(this.state.user[attr_name]);\n      var date = new moment(this.state.user[attr_name]);\n      var new_state = {\n        ...this.state,\n        user: {\n          ...this.state.user,\n          [attr_name]: date,\n        },\n      };\n      this.setState({ ...new_state });\n    }\n  };\n\n  setUser = (state, user) => {\n    var new_state = {\n      ...state,\n      user: user,\n    };\n    return new_state;\n  };\n  onValueChange = (e, val) => {\n    console.log(val);\n\n    this.setState({\n      ...this.state,\n      user: {\n        ...this.state.user,\n        [e]: val.floatValue,\n      },\n    });\n  };\n  onPhoneChange = (phone) => {\n    this.setState({\n      ...this.state,\n      user: {\n        ...this.state.user,\n        phone: phone,\n      },\n    });\n  };\n  handleChangeSelect = (selectedOption, val) => {\n    var state = {\n      ...this.state,\n      user: {\n        ...this.state.user,\n        [selectedOption]: val.value,\n      },\n      [selectedOption]: val,\n    };\n    this.setState({ ...state });\n  };\n  onDrop = (name, acceptedFiles) => {\n    console.log(name);\n    console.log(acceptedFiles);\n    if (this.state.readOnly != true) {\n      acceptedFiles.map((file, i) => {\n        var formData = new FormData();\n        formData.append(\"file\", file);\n        axiosInstance.post(\"/photos\", formData).then((response) => {\n          this.setState({\n            ...this.state,\n            user: {\n              ...this.state.user,\n              photo_id: response.data.photo.id,\n              photo: response.data.photo,\n            },\n          });\n        });\n      });\n    }\n  };\n  componentDidMount = () => {\n    var self = this;\n    var link =\n      this.props.authentication.default_path == \"/partners/\"\n        ? \"/partners/users/\"\n        : \"/admins/users/\";\n\n    console.log(\"FECHING EXISTING RECORD\");\n    axiosInstance.get(`${link}${this.state.user_uuid}`).then((response) => {\n      var new_state = {\n        ...this.state,\n        existing_record: true,\n        readOnly: true,\n      };\n      new_state = self.setUser(new_state, response.data.user);\n      self.setState({ ...new_state });\n    });\n  };\n\n  disableUser = () => {\n    axiosInstance\n      .get(`admins/users/${this.state.user_uuid}/disable`)\n      .then((response) => {\n        var new_state = {\n          ...this.state,\n          existing_record: true,\n          readOnly: true,\n        };\n        new_state = this.setUser(new_state, response.data.user);\n        this.setState({ ...new_state });\n      });\n  };\n\n  onSubmit = (e) => {\n    var link =\n      this.props.authentication.default_path == \"/partners/\"\n        ? \"/partners/users/\"\n        : \"/admins/partners/users/\";\n    e.preventDefault();\n    var self = this;\n    if (self.state.readOnly == true && self.state.existing_record == true) {\n      self.setState({\n        ...self.state,\n        readOnly: false,\n      });\n    } else {\n      var instance;\n      if (self.state.existing_record != true) {\n        instance = axiosInstance.post(`${link}`, {\n          user: this.state.user,\n        });\n      } else {\n        instance = axiosInstance.put(\n          `${link}${this.state.user_id || this.state.user.uuid}`,\n          { user: this.state.user }\n        );\n      }\n\n      instance.then((response) => {\n        console.log(\"RESPONSE\", response);\n\n        // console.log(\"Setting state\")\n        if (this.state.existing_record == true) {\n          var new_state = this.setUser(this.state, response.data.user);\n          console.log(\"THIS IS NEW STATE\", new_state);\n          this.setState({ ...new_state, readOnly: true });\n        } else {\n          this.props.history.push(\n            `${\n              this.props.authentication == \"/partners/\"\n                ? \"/partners/settings/users/\"\n                : \"/admins/partners/users/\"\n            }${response.data.user.uuid}`\n          );\n          // this.setState({ ...this.state, readOnly: true, existing_record: true, editing: false })\n        }\n      });\n    }\n  };\n\n  render() {\n    return (\n      <Col md={12}>\n        <Card>\n          <CardBody>\n            <CardTitle className=\"col-md-12\">\n              User\n              <ul>\n                <li>\n                  <Link\n                    className=\"btn btn-success btn-sm\"\n                    to=\"/partners/settings/users/new\"\n                  >\n                    New User\n                  </Link>\n                </li>\n              </ul>\n            </CardTitle>\n            <CardText className=\"col-md-12\">\n              <Row>\n                <Col md={3} className={\"boxContainer\"}>\n                  <Row className={\"align-items-end\"}>\n                    <Col md={12} className={\"centered\"}>\n                      <div className={\"pictureBox\"}></div>\n                    </Col>\n                    <Col\n                      md={6}\n                      className={\"subBox align-self-end align-items-center \"}\n                    >\n                      <Col className={\"h-100 \"}>\n                        <span>\n                          <FaMoneyBill color=\"#fff\" size={30} />\n                        </span>\n\n                        <NumberField\n                          className={\"figures\"}\n                          value={this.state.user.account_balance || 0.0}\n                        />\n                      </Col>\n                    </Col>\n                    <Col md={6} className={\"subBox align-self-end h-100\"}>\n                      <span>\n                        <FaCoins color=\"#fff\" size={30} />\n                      </span>\n\n                      <NumberField\n                        decimalScale={0}\n                        className={\"figures\"}\n                        value={this.state.user.points || 0.0}\n                      />\n                    </Col>\n                  </Row>\n                </Col>\n                <Col md={9}>\n                  <Form className=\"row\">\n                    <Col md={12}>\n                      <Row>\n                        <Col md={12}>\n                          <Row>\n                            <FormGroup className=\"col-md-6\">\n                              <Label for=\"name\">First Name</Label>\n                              <Input\n                                type=\"text\"\n                                name=\"first_name\"\n                                value={this.state.user.first_name}\n                                placeholder=\"First Name\"\n                                onChange={this.onChange}\n                                readOnly={this.state.readOnly}\n                              />\n                            </FormGroup>\n                            <FormGroup className=\"col-md-6\">\n                              <Label for=\"name\">Last Name</Label>\n                              <Input\n                                type=\"text\"\n                                name=\"last_name\"\n                                value={this.state.user.last_name}\n                                placeholder=\"Last Name\"\n                                onChange={this.onChange}\n                                readOnly={this.state.readOnly}\n                              />\n                            </FormGroup>\n                          </Row>\n                          <Row>\n                            <FormGroup className=\"col-md-6\">\n                              <Label for=\"name\">Email</Label>\n                              <Input\n                                type=\"text\"\n                                name=\"email\"\n                                value={this.state.user.email}\n                                placeholder=\"user@email.com\"\n                                onChange={this.onChange}\n                                readOnly={this.state.readOnly}\n                              />\n                            </FormGroup>\n                            <FormGroup className=\"col-md-6\">\n                              <Label for=\"name\">Phone</Label>\n                              <PhoneInput\n                                country={\"gh\"}\n                                value={this.state.user.phone}\n                                disabled={this.state.readOnly}\n                                readOnly={this.state.readOnly}\n                                countryCodeEditable={false}\n                                disableDropdown={true}\n                                className=\"test-class\"\n                                onChange={(phone) => this.onPhoneChange(phone)}\n                              />\n                            </FormGroup>\n                          </Row>\n                        </Col>\n                      </Row>\n                      <Row></Row>\n                    </Col>\n\n                    <Col md={12}>\n                      {/* <Row> */}\n                      <SubmitButton\n                        disabled={this.state.user.disabled}\n                        onClick={this.onSubmit}\n                        readOnly={this.state.readOnly}\n                        editing={this.state.editing}\n                        existing_record={this.state.existing_record}\n                      />\n                      &nbsp;\n                      <Button\n                        color=\"danger\"\n                        onClick={this.disableUser}\n                        disabled={this.state.user.disabled}\n                      >\n                        Disable User\n                      </Button>\n                      {/* </Row> */}\n                    </Col>\n                  </Form>\n                </Col>\n              </Row>\n            </CardText>\n          </CardBody>\n        </Card>\n      </Col>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({ authentication: state.authentication });\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators(actions, dispatch),\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(UserAccount)\n);\n"]},"metadata":{},"sourceType":"module"}