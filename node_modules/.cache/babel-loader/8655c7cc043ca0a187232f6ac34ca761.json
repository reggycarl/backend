{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/steaman-backend/src/components/AppNavbar/MainAppbar.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FaUsers, FaEnvelopeOpen, FaEnvelopeOpenText, FaBoxes, FaBezierCurve, FaHandHoldingUsd, FaDollarSign, FaMobile, FaFileInvoiceDollar, FaMobileAlt } from \"react-icons/fa\";\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, Col, NavItem, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, Button, NavbarText, Row } from \"reactstrap\";\nimport { FaTh, FaCog, FaBell, FaEnvelope, FaComment, FaList, FaBars, FaTable } from \"react-icons/fa\";\nimport axiosInstance from \"../misc/Axios\";\nimport \"./MainAppbar.scss\";\nimport CurrentUser from \"./CurrentUser\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport PartnerModal from \"../Modals/PartnerModal\";\nimport ChangePasswordModal from \"../Modals/ChangePasswordModal\";\n\nclass MainAppNavbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: false,\n      showPartnersModal: false\n    };\n\n    this.toggle = () => {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    };\n\n    this.logout = () => {\n      console.log(\"LOGGING OUT USER\");\n      this.props.actions.logout();\n    };\n\n    this.navigateTo = link => {\n      console.log(link);\n      this.props.history.push(link);\n    };\n\n    this.togglePartnersModal = () => {\n      this.setState({ ...this.state,\n        showPartnersModal: !this.state.showPartnersModal\n      });\n    };\n\n    this.selectPartner = partner => {\n      console.log(partner);\n      axiosInstance.get(`/admins/partners/companies/${partner}/switch_company`).then(response => {\n        var new_user = response.data.current_admin;\n        this.props.actions.update_user(new_user);\n        this.setState({ ...this.state,\n          showPartnersModal: false\n        });\n      }); // this.setState({\n      //   ...this.state,\n      //   partner: {\n      //     ...this.state.vendor,\n      //     partner: partner,\n      //     partner_id: partner.id,\n      //     showPartnersModal: false\n      //   }\n      // })\n    };\n\n    this.togglePasswordModal = () => {\n      this.setState({ ...this.state,\n        showPasswordModal: !this.state.showPasswordModal\n      });\n    };\n\n    this.switchToAdmin = () => {\n      axiosInstance.get(`/admins/partners/companies/switch_to_admin`).then(response => {\n        var new_user = response.data.current_admin;\n        this.props.actions.update_user(new_user);\n        this.setState({ ...this.state,\n          showPartnersModal: false\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Row, {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PartnerModal, {\n      isOpen: this.state.showPartnersModal,\n      selectPartner: this.selectPartner.bind(this),\n      switchToAdmin: this.switchToAdmin,\n      toggle: this.togglePartnersModal,\n      parentForm: this,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ChangePasswordModal, {\n      isOpen: this.state.showPasswordModal,\n      toggle: this.togglePasswordModal,\n      parentForm: this,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Navbar, {\n      light: true,\n      expand: \"lg\",\n      dark: true,\n      className: \"mainApp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Collapse, {\n      isOpen: this.state.isOpen,\n      navbar: true,\n      aria: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-default btn sidebarBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FaBars, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Nav, {\n      className: \"navbar-nav ml-auto mt-2 mt-lg-0\",\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: \"#000\",\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, this.props.authentication.user.current_company ? ` Current Partner :  ${this.props.authentication.user.current_company.name}` : \"\")))), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      inNavbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      color: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FaEnvelope, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(DropdownMenu, {\n      className: \"\",\n      right: true,\n      altclass: \"largeDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DropdownItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, \"You have no messages\"))), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      inNavbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      color: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FaBell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(DropdownMenu, {\n      className: \"\",\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DropdownItem, {\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }, \"You have No Notifications\"))), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      inNavbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      color: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CurrentUser, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: this.togglePasswordModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"Change Password\"), this.props.authentication.default_path == \"/admins/\" ? /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: this.togglePartnersModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, \"Switch to Partner\") : \"\", /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }, \"Logout\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  authentication: state.authentication\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(actions, dispatch)\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MainAppNavbar));","map":{"version":3,"sources":["/Users/mac/Desktop/steaman-backend/src/components/AppNavbar/MainAppbar.jsx"],"names":["React","Component","Link","FaUsers","FaEnvelopeOpen","FaEnvelopeOpenText","FaBoxes","FaBezierCurve","FaHandHoldingUsd","FaDollarSign","FaMobile","FaFileInvoiceDollar","FaMobileAlt","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","Col","NavItem","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","Button","NavbarText","Row","FaTh","FaCog","FaBell","FaEnvelope","FaComment","FaList","FaBars","FaTable","axiosInstance","CurrentUser","actions","connect","bindActionCreators","withRouter","PartnerModal","ChangePasswordModal","MainAppNavbar","state","isOpen","showPartnersModal","toggle","setState","logout","console","log","props","navigateTo","link","history","push","togglePartnersModal","selectPartner","partner","get","then","response","new_user","data","current_admin","update_user","togglePasswordModal","showPasswordModal","switchToAdmin","render","bind","color","fontWeight","authentication","user","current_company","name","default_path","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  FaUsers,\n  FaEnvelopeOpen,\n  FaEnvelopeOpenText,\n  FaBoxes,\n  FaBezierCurve,\n  FaHandHoldingUsd,\n  FaDollarSign,\n  FaMobile,\n  FaFileInvoiceDollar,\n  FaMobileAlt,\n} from \"react-icons/fa\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  Col,\n  NavItem,\n  NavLink,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Button,\n  NavbarText,\n  Row,\n} from \"reactstrap\";\nimport {\n  FaTh,\n  FaCog,\n  FaBell,\n  FaEnvelope,\n  FaComment,\n  FaList,\n  FaBars,\n  FaTable,\n} from \"react-icons/fa\";\nimport axiosInstance from \"../misc/Axios\";\n\nimport \"./MainAppbar.scss\";\nimport CurrentUser from \"./CurrentUser\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport PartnerModal from \"../Modals/PartnerModal\";\nimport ChangePasswordModal from \"../Modals/ChangePasswordModal\";\nclass MainAppNavbar extends Component {\n  // const[isOpen, setIsOpen] = useState(false);\n  state = {\n    isOpen: false,\n    showPartnersModal: false,\n  };\n\n  toggle = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  logout = () => {\n    console.log(\"LOGGING OUT USER\");\n    this.props.actions.logout();\n  };\n\n  navigateTo = (link) => {\n    console.log(link);\n    this.props.history.push(link);\n  };\n  togglePartnersModal = () => {\n    this.setState({\n      ...this.state,\n      showPartnersModal: !this.state.showPartnersModal,\n    });\n  };\n  selectPartner = (partner) => {\n    console.log(partner);\n    axiosInstance\n      .get(`/admins/partners/companies/${partner}/switch_company`)\n      .then((response) => {\n        var new_user = response.data.current_admin;\n        this.props.actions.update_user(new_user);\n        this.setState({\n          ...this.state,\n          showPartnersModal: false,\n        });\n      });\n\n    // this.setState({\n    //   ...this.state,\n    //   partner: {\n    //     ...this.state.vendor,\n    //     partner: partner,\n    //     partner_id: partner.id,\n    //     showPartnersModal: false\n    //   }\n    // })\n  };\n  togglePasswordModal = () => {\n    this.setState({\n      ...this.state,\n      showPasswordModal: !this.state.showPasswordModal,\n    });\n  };\n  switchToAdmin = () => {\n    axiosInstance\n      .get(`/admins/partners/companies/switch_to_admin`)\n      .then((response) => {\n        var new_user = response.data.current_admin;\n        this.props.actions.update_user(new_user);\n        this.setState({\n          ...this.state,\n          showPartnersModal: false,\n        });\n      });\n  };\n\n  render() {\n    return (\n      <Row className=\"header\">\n        <PartnerModal\n          isOpen={this.state.showPartnersModal}\n          selectPartner={this.selectPartner.bind(this)}\n          switchToAdmin={this.switchToAdmin}\n          toggle={this.togglePartnersModal}\n          parentForm={this}\n        />\n        <ChangePasswordModal\n          isOpen={this.state.showPasswordModal}\n          toggle={this.togglePasswordModal}\n          parentForm={this}\n        />\n        <Navbar light expand=\"lg\" dark={true} className=\"mainApp\">\n          <Collapse isOpen={this.state.isOpen} navbar aria>\n            <button className=\"btn-default btn sidebarBtn\">\n              <FaBars />\n            </button>\n            <Nav className=\"navbar-nav ml-auto mt-2 mt-lg-0\" navbar>\n              <NavItem>\n                <NavLink>\n                  <p style={{ color: \"#000\", fontWeight: \"bold\" }}>\n                    <b>\n                      {this.props.authentication.user.current_company\n                        ? ` Current Partner :  ${this.props.authentication.user.current_company.name}`\n                        : \"\"}\n                    </b>\n                  </p>\n                </NavLink>\n              </NavItem>\n              <UncontrolledDropdown inNavbar>\n                <DropdownToggle color=\"default\">\n                  <FaEnvelope />\n                  {/* <span className='navName'><b> &nbsp; Messages</b></span> */}\n                </DropdownToggle>\n                <DropdownMenu className=\"\" right altclass=\"largeDropdown\">\n                  <DropdownItem>You have no messages</DropdownItem>\n                  {/* <DropdownItem>\n                                        Option 2\n                      </DropdownItem>\n                                    <DropdownItem divider /> */}\n                  {/* <DropdownItem>\n                                        Option 2\n                      </DropdownItem> */}\n                </DropdownMenu>\n              </UncontrolledDropdown>\n\n              <UncontrolledDropdown inNavbar>\n                <DropdownToggle color=\"default\">\n                  <FaBell />\n                </DropdownToggle>\n                <DropdownMenu className=\"\" right>\n                  <DropdownItem right>You have No Notifications</DropdownItem>\n                </DropdownMenu>\n              </UncontrolledDropdown>\n\n              <UncontrolledDropdown inNavbar>\n                <DropdownToggle color=\"default\">\n                  <CurrentUser />\n                  {/* <FaCog /> */}\n                </DropdownToggle>\n                \n                <DropdownMenu right>\n                <DropdownItem onClick={this.togglePasswordModal}>\n                  Change Password\n                </DropdownItem>\n                  {this.props.authentication.default_path == \"/admins/\" ? (\n                    <DropdownItem onClick={this.togglePartnersModal}>\n                      Switch to Partner\n                    </DropdownItem>\n                  ) : (\n                    \"\"\n                  )}\n\n                  <DropdownItem onClick={this.logout}>Logout</DropdownItem>\n                </DropdownMenu>\n              </UncontrolledDropdown>\n            </Nav>\n          </Collapse>\n        </Navbar>\n      </Row>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({ authentication: state.authentication });\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators(actions, dispatch),\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(MainAppNavbar)\n);\n"]},"metadata":{},"sourceType":"module"}