{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/steaman-backend/src/components/PartnerOrders/PartnerOrder.jsx\";\nimport React, { Component } from \"react\";\nimport { Card, CardTitle, CardBody, Row, Col, CardText, Form, FormGroup, Input, Label, FormText, Button } from \"reactstrap\";\nimport Select from \"../Controls/Select\";\nimport Datetime from \"react-datetime\";\nimport \"react-datetime/css/react-datetime.css\";\nimport moment from \"moment\";\nimport axiosInstance, { mainBaseurl } from \"../misc/Axios\";\nimport SubmitButton from \"../Controls/SubmitButton\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getOrdersTypes, getGenders, getMaritalStatuses } from \"../misc/functions\";\nimport { history } from \"../../index\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport NumberField from \"../Controls/NumberField\";\nimport Table from \"reactstrap/lib/Table\";\nimport printJS from \"print-js\";\nimport ChangeStatusModal from \"../Modals/ChangeStatusModal\";\n\nclass Order extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showChangeStatusModal: false,\n      order: {\n        base_price: 0,\n        insurance: 0,\n        maintenance: 0,\n        price_per_km: 0,\n        price_per_min: 0,\n        customer: {},\n        order: {},\n        product: {},\n        status: {},\n        carts: []\n      },\n      editing: false,\n      readOnly: this.props.match.params.id != \"\" && this.props.match.params.id != null,\n      order_uuid: this.props.match.params.id,\n      existing_record: this.props.match.params.id != \"\" && this.props.match.params.id != null\n    };\n\n    this.onChange = e => {\n      console.log(e.target.name);\n      this.setState({ ...this.state,\n        order: { ...this.state.order,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.printPickUpDropOffNote = () => {\n      this.setState({ ...this.state,\n        printing: true\n      });\n      printJS(mainBaseurl + `/order_docs/drop_off_pickup_note?order_id=${this.state.order.uuid}`);\n      this.setState({ ...this.state,\n        printing: false\n      });\n    };\n\n    this.printInvoice = () => {\n      this.setState({ ...this.state,\n        printing: true\n      });\n      printJS(mainBaseurl + `/order_docs/invoice?order_id=${this.state.order.uuid}`);\n      this.setState({ ...this.state,\n        printing: false\n      });\n    };\n\n    this.handleChangeSelect = (selectedOption, val) => {\n      var state = { ...this.state,\n        order: { ...this.state.order,\n          [selectedOption]: val.value\n        },\n        [selectedOption]: val\n      };\n      this.setState({ ...state\n      });\n    };\n\n    this.setOrders = (state, order) => {\n      console.log(\"THIS IS STATE\", state);\n      var new_state = { ...state,\n        order: order // type_id: state.order_types.\n\n      };\n      return new_state;\n    };\n\n    this.onValueChange = (e, val) => {\n      console.log(val);\n      this.setState({ ...this.state,\n        order: { ...this.state.order,\n          [e]: val.floatValue\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      var self = this; // Promise.all([getVehicleTypes()]).then(([vehicle_types,]) => {\n\n      console.log(\"ID\", this.props.match.params.id);\n\n      if (self.state.existing_record == true) {\n        console.log(\"FECHING EXISTING RECORD\");\n        axiosInstance.get(this.props.authentication.default_path == \"/admins/\" ? `${this.props.authentication.default_path}cart_orders/${this.state.order_uuid}` : `${this.props.authentication.default_path}orders/${this.state.order_uuid}`).then(response => {\n          var new_state = { ...this.state,\n            existing_record: true,\n            readOnly: true // vehicle_types: vehicle_types\n\n          };\n          new_state = self.setOrders(new_state, response.data.order);\n          self.setState({ ...new_state\n          });\n        });\n      } else {\n        self.setState({ ...this.state // vehicle_types: vehicle_types,\n\n        });\n      } // })\n\n    };\n\n    this.confirmPickup = () => {\n      console.log(\"confirming Pickup\");\n      axiosInstance.post(`${mainBaseurl}/partners/orders/${this.state.order.uuid}/confirm_available_for_pickup`).then(response => {\n        console.log(response.inspect);\n\n        if (response.status == 200) {\n          this.setState({ ...this.state,\n            order: { ...this.state.order,\n              ...response.data.data\n            }\n          });\n        }\n      });\n    };\n\n    this.markAvailableForPickup = () => {\n      axiosInstance.get(`${mainBaseurl}/partners/orders/${this.state.order.uuid}/confirm_available_for_pickup`).then(response => {});\n    };\n\n    this.changeStatus = id => {\n      console.log(\"CHANGING STATUS FROM ORDER\");\n      this.setState({ ...this.state,\n        changingStatus: true\n      });\n      axiosInstance.post(mainBaseurl + `/admins/cart_orders/${this.state.order_uuid}/change_status`, {\n        status_id: id\n      }).then(response => {\n        console.log(response);\n        this.setState({ ...this.state,\n          order: { ...this.state.order,\n            ...response.data.order\n          },\n          showChangeStatusModal: false,\n          changingStatus: false\n        });\n      }).catch(error => {\n        this.setState({ ...this.state,\n          changingStatus: false\n        });\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      var self = this;\n\n      if (self.state.readOnly == true && self.state.existing_record == true) {\n        self.setState({ ...self.state,\n          readOnly: false\n        });\n      } else {\n        var instance;\n\n        if (self.state.existing_record != true) {\n          instance = axiosInstance.post(\"/admins/orders\", { ...this.state\n          });\n        } else {\n          instance = axiosInstance.put(`/admins/orders/${this.state.order_id || this.state.order.uuid}`, {\n            order: this.state.order\n          });\n        }\n\n        instance.then(response => {\n          console.log(\"RESPONSE\", response); // console.log(\"Setting state\")\n\n          if (this.state.existing_record == true) {\n            var new_state = this.setOrders(this.state, response.data.order);\n            console.log(\"THIS IS NEW STATE\", new_state);\n            this.setState({ ...new_state,\n              readOnly: true\n            });\n          } else {\n            this.props.history.push(`/admins/orders/${response.data.order.uuid}`); // this.setState({ ...this.state, readOnly: true, existing_record: true, editing: false })\n          }\n        });\n      }\n    };\n\n    this.toggleChangeStatusModal = () => {\n      this.setState({ ...this.state,\n        showChangeStatusModal: !this.state.showChangeStatusModal\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ChangeStatusModal, {\n      isOpen: this.state.showChangeStatusModal,\n      changeStatus: this.changeStatus.bind(this),\n      toggle: this.toggleChangeStatusModal,\n      changingStatus: this.state.changingStatus,\n      parentForm: this,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, \"Order Information\", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(CardText, {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 23\n      }\n    }, \"Order Number\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      value: this.state.order.order.number,\n      readOnly: this.state.readOnly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 23\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      value: this.state.order.status_name,\n      readOnly: this.state.readOnly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 23\n      }\n    })), this.props.authentication.default_path == \"/admins/\" ? /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"exampleEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 25\n      }\n    }, \"Merchant\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      value: this.state.order.company_name,\n      readOnly: this.state.readOnly,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 25\n      }\n    })) : \"\")), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      bordered: \"true\",\n      striped: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 25\n      }\n    }, \"SKU\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 25\n      }\n    }, \"Product\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 25\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 25\n      }\n    }, \"Total\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 25\n      }\n    }, this.state.order.product.sku), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    }, this.state.order.product.name, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 27\n      }\n    }, \"Color: \"), this.state.order.color_name, \" | \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 59\n      }\n    }, \"Size:\"), \" \", this.state.order.size_name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NumberField, {\n      value: this.state.order.price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NumberField, {\n      value: this.state.order.quantity,\n      decimalScale: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NumberField, {\n      value: this.state.order.price * this.state.order.quantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 27\n      }\n    }))))))), this.props.authentication.default_path == \"/partners/\" ? /*#__PURE__*/React.createElement(Button, {\n      color: \"success\",\n      onClick: this.confirmPickup,\n      disabled: this.state.order.available_for_pickup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }\n    }, \"Confirm Pickup\") : \"\", \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.printPickUpDropOffNote,\n      disabled: !this.state.order.available_for_pickup || this.state.printing,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 15\n      }\n    }, \"Print Pick Up/ Drop Off Note\"), \"\\xA0\", this.props.authentication.default_path == \"/admins/\" ? /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.printInvoice,\n      disabled: !this.state.order.available_for_pickup || this.state.printing,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }\n    }, \"Print Invoice\") : \"\", \"\\xA0\", this.props.authentication.default_path == \"/admins/\" ? /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.toggleChangeStatusModal,\n      disabled: this.state.printing,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 17\n      }\n    }, \"Change Status\") : \"\", \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      disabled: this.state.order.available_for_pickup || this.state.order.confirmed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 15\n      }\n    }, \"Cancel Order\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  authentication: state.authentication\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(actions, dispatch)\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Order));","map":{"version":3,"sources":["/Users/mac/Desktop/steaman-backend/src/components/PartnerOrders/PartnerOrder.jsx"],"names":["React","Component","Card","CardTitle","CardBody","Row","Col","CardText","Form","FormGroup","Input","Label","FormText","Button","Select","Datetime","moment","axiosInstance","mainBaseurl","SubmitButton","Link","withRouter","getOrdersTypes","getGenders","getMaritalStatuses","history","actions","connect","bindActionCreators","NumberField","Table","printJS","ChangeStatusModal","Order","state","showChangeStatusModal","order","base_price","insurance","maintenance","price_per_km","price_per_min","customer","product","status","carts","editing","readOnly","props","match","params","id","order_uuid","existing_record","onChange","e","console","log","target","name","setState","value","printPickUpDropOffNote","printing","uuid","printInvoice","handleChangeSelect","selectedOption","val","setOrders","new_state","onValueChange","floatValue","componentDidMount","self","get","authentication","default_path","then","response","data","confirmPickup","post","inspect","markAvailableForPickup","changeStatus","changingStatus","status_id","catch","error","onSubmit","preventDefault","instance","put","order_id","push","toggleChangeStatusModal","render","bind","number","status_name","company_name","sku","color_name","size_name","price","quantity","available_for_pickup","confirmed","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  Row,\n  Col,\n  CardText,\n  Form,\n  FormGroup,\n  Input,\n  Label,\n  FormText,\n  Button,\n} from \"reactstrap\";\nimport Select from \"../Controls/Select\";\nimport Datetime from \"react-datetime\";\nimport \"react-datetime/css/react-datetime.css\";\nimport moment from \"moment\";\nimport axiosInstance, { mainBaseurl } from \"../misc/Axios\";\nimport SubmitButton from \"../Controls/SubmitButton\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport {\n  getOrdersTypes,\n  getGenders,\n  getMaritalStatuses,\n} from \"../misc/functions\";\nimport { history } from \"../../index\";\nimport * as actions from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport NumberField from \"../Controls/NumberField\";\nimport Table from \"reactstrap/lib/Table\";\nimport printJS from \"print-js\";\nimport ChangeStatusModal from \"../Modals/ChangeStatusModal\";\nclass Order extends Component {\n  state = {\n    showChangeStatusModal: false,\n    order: {\n      base_price: 0,\n      insurance: 0,\n      maintenance: 0,\n      price_per_km: 0,\n      price_per_min: 0,\n      customer: {},\n      order: {},\n      product: {},\n      status: {},\n      carts: [],\n    },\n    editing: false,\n    readOnly:\n      this.props.match.params.id != \"\" && this.props.match.params.id != null,\n    order_uuid: this.props.match.params.id,\n    existing_record:\n      this.props.match.params.id != \"\" && this.props.match.params.id != null,\n  };\n  onChange = (e) => {\n    console.log(e.target.name);\n    this.setState({\n      ...this.state,\n      order: {\n        ...this.state.order,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  printPickUpDropOffNote = () => {\n    this.setState({\n      ...this.state,\n      printing: true,\n    });\n    printJS(\n      mainBaseurl +\n        `/order_docs/drop_off_pickup_note?order_id=${this.state.order.uuid}`\n    );\n    this.setState({\n      ...this.state,\n      printing: false,\n    });\n  };\n  printInvoice = () => {\n    this.setState({\n      ...this.state,\n      printing: true,\n    });\n    printJS(\n      mainBaseurl + `/order_docs/invoice?order_id=${this.state.order.uuid}`\n    );\n    this.setState({\n      ...this.state,\n      printing: false,\n    });\n  };\n  handleChangeSelect = (selectedOption, val) => {\n    var state = {\n      ...this.state,\n      order: {\n        ...this.state.order,\n        [selectedOption]: val.value,\n      },\n      [selectedOption]: val,\n    };\n    this.setState({ ...state });\n  };\n\n  setOrders = (state, order) => {\n    console.log(\"THIS IS STATE\", state);\n    var new_state = {\n      ...state,\n      order: order,\n      // type_id: state.order_types.\n    };\n    return new_state;\n  };\n  onValueChange = (e, val) => {\n    console.log(val);\n\n    this.setState({\n      ...this.state,\n      order: {\n        ...this.state.order,\n        [e]: val.floatValue,\n      },\n    });\n  };\n  componentDidMount = () => {\n    var self = this;\n\n    // Promise.all([getVehicleTypes()]).then(([vehicle_types,]) => {\n    console.log(\"ID\", this.props.match.params.id);\n\n    if (self.state.existing_record == true) {\n      console.log(\"FECHING EXISTING RECORD\");\n      axiosInstance\n        .get(\n          this.props.authentication.default_path == \"/admins/\"\n            ? `${this.props.authentication.default_path}cart_orders/${this.state.order_uuid}`\n            : `${this.props.authentication.default_path}orders/${this.state.order_uuid}`\n        )\n        .then((response) => {\n          var new_state = {\n            ...this.state,\n            existing_record: true,\n            readOnly: true,\n            // vehicle_types: vehicle_types\n          };\n          new_state = self.setOrders(new_state, response.data.order);\n          self.setState({ ...new_state });\n        });\n    } else {\n      self.setState({\n        ...this.state,\n        // vehicle_types: vehicle_types,\n      });\n    }\n\n    // })\n  };\n  confirmPickup = () => {\n    console.log(\"confirming Pickup\");\n    axiosInstance\n      .post(\n        `${mainBaseurl}/partners/orders/${this.state.order.uuid}/confirm_available_for_pickup`\n      )\n      .then((response) => {\n        console.log(response.inspect);\n        if (response.status == 200) {\n          this.setState({\n            ...this.state,\n            order: {\n              ...this.state.order,\n              ...response.data.data,\n            },\n          });\n        }\n      });\n  };\n  markAvailableForPickup = () => {\n    axiosInstance\n      .get(\n        `${mainBaseurl}/partners/orders/${this.state.order.uuid}/confirm_available_for_pickup`\n      )\n      .then((response) => {});\n  };\n  changeStatus = (id) => {\n    console.log(\"CHANGING STATUS FROM ORDER\");\n    this.setState({\n      ...this.state,\n      changingStatus: true,\n    });\n    axiosInstance\n      .post(\n        mainBaseurl +\n          `/admins/cart_orders/${this.state.order_uuid}/change_status`,\n        { status_id: id }\n      )\n      .then((response) => {\n        console.log(response);\n        this.setState({\n          ...this.state,\n          order: {\n            ...this.state.order,\n            ...response.data.order,\n          },\n          showChangeStatusModal: false,\n          changingStatus: false,\n        });\n      })\n      .catch((error) => {\n        this.setState({\n          ...this.state,\n          changingStatus: false,\n        });\n      });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    var self = this;\n    if (self.state.readOnly == true && self.state.existing_record == true) {\n      self.setState({\n        ...self.state,\n        readOnly: false,\n      });\n    } else {\n      var instance;\n      if (self.state.existing_record != true) {\n        instance = axiosInstance.post(\"/admins/orders\", { ...this.state });\n      } else {\n        instance = axiosInstance.put(\n          `/admins/orders/${this.state.order_id || this.state.order.uuid}`,\n          { order: this.state.order }\n        );\n      }\n\n      instance.then((response) => {\n        console.log(\"RESPONSE\", response);\n\n        // console.log(\"Setting state\")\n        if (this.state.existing_record == true) {\n          var new_state = this.setOrders(this.state, response.data.order);\n          console.log(\"THIS IS NEW STATE\", new_state);\n          this.setState({ ...new_state, readOnly: true });\n        } else {\n          this.props.history.push(`/admins/orders/${response.data.order.uuid}`);\n          // this.setState({ ...this.state, readOnly: true, existing_record: true, editing: false })\n        }\n      });\n    }\n  };\n  toggleChangeStatusModal = () => {\n    this.setState({\n      ...this.state,\n      showChangeStatusModal: !this.state.showChangeStatusModal,\n    });\n  };\n\n  render() {\n    return (\n      <Col md={12}>\n        <ChangeStatusModal\n          isOpen={this.state.showChangeStatusModal}\n          changeStatus={this.changeStatus.bind(this)}\n          toggle={this.toggleChangeStatusModal}\n          changingStatus={this.state.changingStatus}\n          parentForm={this}\n        />\n        <Card>\n          <CardBody>\n            <CardTitle className=\"col-md-12\">\n              Order Information\n              <ul></ul>\n            </CardTitle>\n            <CardText className=\"col-md-12\">\n              <Form className=\"row\">\n                <Col md={12}>\n                  <Row>\n                    <FormGroup className=\"col-md-4\">\n                      <Label for=\"exampleEmail\">Order Number</Label>\n                      <Input\n                        type=\"text\"\n                        value={this.state.order.order.number}\n                        readOnly={this.state.readOnly}\n                      />\n                    </FormGroup>\n                    <FormGroup className=\"col-md-4\">\n                      <Label for=\"exampleEmail\">Status</Label>\n                      <Input\n                        type=\"text\"\n                        value={this.state.order.status_name}\n                        readOnly={this.state.readOnly}\n                      />\n                    </FormGroup>\n                    {this.props.authentication.default_path == \"/admins/\" ? (\n                      <FormGroup className=\"col-md-4\">\n                        <Label for=\"exampleEmail\">Merchant</Label>\n                        <Input\n                          type=\"text\"\n                          value={this.state.order.company_name}\n                          readOnly={this.state.readOnly}\n                        />\n                      </FormGroup>\n                    ) : (\n                      \"\"\n                    )}\n                  </Row>\n                </Col>\n\n                {/* <Col md={12}>\n                                    \n                                    <Row>\n                                        <FormGroup className='col-md-4'>\n                                            <Label for=\"exampleEmail\">Product SKU</Label>\n                                            <Input type='text' value={this.state.order.product.sku}  readOnly={this.state.readOnly} />\n                                            \n                                        </FormGroup>\n                                        <FormGroup className='col-md-8'>\n                                            <Label for=\"exampleEmail\">Product Name</Label>\n                                            <Input type='text' value={this.state.order.product.name}  readOnly={this.state.readOnly} />                                            \n                                        </FormGroup>\n\n                                        </Row>\n                                     \n                                </Col> */}\n                {/* <Col md={12}>\n                                    \n                                    <Row>\n                                        <FormGroup className='col-md-4'>\n                                            <Label for=\"exampleEmail\">Size</Label>\n                                            <Input type='text' value={this.state.order.size_name}  readOnly={this.state.readOnly} />\n                                            \n                                        </FormGroup>\n                                        <FormGroup className='col-md-4'>\n                                            <Label for=\"exampleEmail\">Color </Label>\n                                            <Input type='text' value={this.state.order.color_name}  readOnly={this.state.readOnly} />                                            \n                                        </FormGroup>\n                                        </Row>\n                                </Col>\n                                 */}\n                <Col>\n                  <Table bordered=\"true\" striped=\"true\">\n                    <thead>\n                      <tr>\n                        <th>SKU</th>\n                        <th>Product</th>\n                        <th>Price</th>\n                        <th>Quantity</th>\n                        <th>Total</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <td>{this.state.order.product.sku}</td>\n                        <td>\n                          {this.state.order.product.name}\n                          <br />\n                          <b>Color: </b>\n                          {this.state.order.color_name} | <b>Size:</b>{\" \"}\n                          {this.state.order.size_name}{\" \"}\n                        </td>\n                        <td className=\"right\">\n                          <NumberField value={this.state.order.price} />\n                        </td>\n                        <td className=\"right\">\n                          <NumberField\n                            value={this.state.order.quantity}\n                            decimalScale={0}\n                          />\n                        </td>\n                        <td className=\"right\">\n                          <NumberField\n                            value={\n                              this.state.order.price * this.state.order.quantity\n                            }\n                          />\n                        </td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                </Col>\n              </Form>\n              {this.props.authentication.default_path == \"/partners/\" ? (\n                <Button\n                  color=\"success\"\n                  onClick={this.confirmPickup}\n                  disabled={this.state.order.available_for_pickup}\n                >\n                  Confirm Pickup\n                </Button>\n              ) : (\n                \"\"\n              )}\n              &nbsp;\n              <Button\n                color=\"primary\"\n                onClick={this.printPickUpDropOffNote}\n                disabled={\n                  !this.state.order.available_for_pickup || this.state.printing\n                }\n              >\n                Print Pick Up/ Drop Off Note\n              </Button>\n              &nbsp;\n              {this.props.authentication.default_path == \"/admins/\" ? (\n                <Button\n                  color=\"primary\"\n                  onClick={this.printInvoice}\n                  disabled={\n                    !this.state.order.available_for_pickup ||\n                    this.state.printing\n                  }\n                >\n                  Print Invoice\n                </Button>\n              ) : (\n                \"\"\n              )}\n              &nbsp;\n              {this.props.authentication.default_path == \"/admins/\" ? (\n                <Button\n                  color=\"primary\"\n                  onClick={this.toggleChangeStatusModal}\n                  disabled={this.state.printing}\n                >\n                  Change Status\n                </Button>\n              ) : (\n                \"\"\n              )}\n              &nbsp;\n              <Button\n                color=\"danger\"\n                disabled={\n                  this.state.order.available_for_pickup ||\n                  this.state.order.confirmed\n                }\n              >\n                Cancel Order\n              </Button>\n            </CardText>\n          </CardBody>\n        </Card>\n      </Col>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({ authentication: state.authentication });\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators(actions, dispatch),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Order));\n"]},"metadata":{},"sourceType":"module"}